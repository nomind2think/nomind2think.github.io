<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>请输入密码</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">请输入密码</p>
                        <p>此内容已加密，请输入密码访问</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="密码"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="解锁" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b4233cf5b4a7d3ae7921e3f859290ec1298f55b7f58faadabf640f8e7034195bcf12bf11ae0f0fbb35e92233f7d6eb5af60fc82a1afcc9e9d4348461336795c64bd828916211030ef499b47abae1235755b39750eb1604549be60c25b524a5f08e2bd8e74b87147c686f2c99b1e634c3c57baf2c07ef41986941221398e1a69a91956f39adecbd2db17fd41bdcebc3037b420e585c92a7436b4c2009214d77ea7bd519a52fbd2d81b4825daa17e2d731080b5a626c40f0fbb2193dd8535c4208c679ec207eb348f4f305de634e8b31dd67936846c9ba2a229428b69c7e1b90abe6abdb7f09f9d01c1383f3fcec48ca9a6f041c96a2340408242399d62e4f6e37f9296aa4d23955d5d5dc3477843a09afe066c7e7ec1a2c02673d2fcb0b2ed6e49b1aaa55254af8f4638c1a990db4c9c7890a8a972b9712d2899b204fdbd58534fe84be1675cfd0523bbb5c3092424a6fc6dc8bd68f1a7417913cf9cc5ff2dad9138e1cb5a1c4ed222e325f2e37caee0006001b5155c59bb7215d024d92a206280b78fae8f80a6d27db67c8c6a1426614efab360f000e3579f14b835aadd1cb1556e1cd3ad7bc60e113b1cce0800c9e6cd1080d1d6ea558e43ce552aef96ea3d884e646ed061c8ada4e3286f92732de0c7a715d4921543da0cc26f37caad70b412dd07f18e5ab5ddb8d80c5ef1f04af0c5670005653df9a13d58d8343ef94d8bf2d592a72972892f1f08497e508da765ff28d2093737f5175745f7d0ddf7d4d04d43bddeca429f6acc45f29fd6fb70f46410c1b75f4e5fb3d087ffcdab3688142e70d11c2a88a08d9dcc1691897a8afb85a2db11db6bb96971a062d8d447ce3d8af94f63c93a44e557d3e6db4428b85e053731f65deb1959b0c7b736a5d04e857de6240bdbacbc38b80c5cb29c8c265876c6e5ed0fea2c1d4044223677595905ebd4b250003065b40aac87ed8cfae2630a4a76eee0205b0a03a7fd43bc1e0725ec52f7ee4c72ee2ee6ee853dc4c5c4a5c49c01d034171d999ac7716a99e1edda295b0cd0af159bff2c32f487aaf866a653d5c8c6a75bd82fe054a574c2256232d171346a5078a6073b820bcf451d546743d68cf40f2a33d7956b4b84345974b9d4e6dccd97f946ac35ca7f8b7bf1da558517c16c9d5eb6a3db89c228c0f7079b0964a6c30bb320112c85537f79dbdd8bc1b729594cdbf31f1e328111af188d08a159cfe1e0512d1f85465bf0d7d7813609e75cf19965a03bf69aa64e2d7eea3a5480baf492f8d90735914fd7b5e368552d19c1325e20031467618c04bafc8acd405f7223f57b1b20de6a32ff2a3c3f389d65af941482e0e770075a9ff97b747ac9f68a5b49973992477cf109816d16f1988d421c51bfd64e7bc3827cbcd91f9848984c9961f3c8c3187cdab76bec8105ccdfaf9510de3aabd3471621ebe11d2051d548b17d5acc96dc6e7b02e541c046166e0ce415bbd8754f20031be863b3dbfde8b03bcc9fc3a74e1a224266d2cf90281b183e6f8b1f9baa62785547028d4f9eff4ef027812193b0095515ff7ff3141f4b1a40d1545d001f92fcc2c68c52d682bca9f474a95ab598c5da1382083d8146e92c30109f648e0e6d82b5031330fe5848b637392a65ca8027b025b2547ed4860c92d9e47de1a2591fda37faeac291c150f97e8cebc3a2ba102ccfc740ae52dc91949d938e3288f5a473b97df544841cc983eb9b9ca582f1c9b69336a90ac1e2a9acfb18cc71cf28c84ca5f0f10519e4987015eab273e12263de687091a763ba66c5e5ac9b7e503253df318eb705654ed53b7656ae25d828c087179e29e04a8b9f83abc44be9acc31703adf73bcf7572dfb433ae46fb68ea4289f1ded738625786bd248b27e518aa967ad3e94e5173e1c9346a17c5b7ef5f6e8a21fbf54b0888a0c54b1cbb4aa6084b9b1bdd39c0893142d28d5efeff53e38a178a6fd8fff3ebc0126c99ff475d82494d54b24230e175ea082750ab8dc6d58ed37a85d18dbf5aec8c5c0cf2ba8bf9a39392f2d4ee78f437ed30895d3c20b7de78321b0b19a0a6a356464a0219d2022b1290e28e4d8f50601e567caad08d8ba6d81015b61a01ffb6c858b318bab9312c50f0f8a51456a693ed48d3ff73d74a9b6e214fcda923f916022358976791487c6e90c2714d3562e1e277b98ec5a806cac2e1856b2823b51b5d2812bf12a52f2a19fd943bb99f187a5a611f30099e48d5db63f1e4db7d86a4d1464e0ff8f65f7b2c6bd37c38f426ed3c81dcae47a198835dc304ed022960aa1a355cedc42d1ee213970ff244a12ac9cdaf36beaa6314f7926a059e8cf459f2aee35bdc786f4703cd9b5d89a05dd8ee2f78a29ef055104c05d643f7c7162403d2e1ac9a331ae6f0a1cad6233ee14d9e88152fb9b488f6b4808847cf1ca03027a4ea3aa105bdd84c62114bf921a6036c0c063e911ebf648dcb75f27b929ddb5238ccc815effe06fd48f2fc99869cdc2cd6d4d0fc058c910631c7f0a1ef0ef0030a74ada2034623766107720dd37e73bb2594a5693b8587893041b12da00f73364be37c0c5fec17cd86ae8307bba54a3b4c6d9f47aefa4c77ea2c69e265bbe9bafc83e16238e484e0566105893d5c26e792ccfe25f27c2cd2192a242238b91a357880a770d50a97389a0d0e995aa33ac359120b9ce6851f3d07583d09155c02576dcedd5ec2e595d9ec419e4e35d8cbe2bd62a34c77dfbc5a1afdeff217c67c498b3f4992b59dae985f1c4c2a471b0a1f41abc3cf712ea4ca28b81bdaf7fff7b21bace884e532ff3533c570d3c2e7dd5ba8719e562cf2e0ab943dc66e761e12f68b9cc691bfc2a65b9fa7ca19aec51e2f1107b59c2bcdb0d6a09c2edb16850f1334b7ebcfc738185968122f3cabc149a4d7f8f81458b8676069a9a070049c0c0fe5b626bbd400fca8cea2e8cea1a0645ad90903368819cbe919e7fdedef82775f4a1854c95429fdabd32df3032e553b397829e8b93f5f5b6ac61e12964812cb9e4f069f39c9cffad73daf9a9e9d8fcb5abfcd2f4a65c64d1377cfd232f64fa26a73c14c5293bc91d0ad3d0d29f4328fda60cf5f8899e3838f053d48dc43d5e8adb632eae4255dee5ded9b203674cb127658a73b15bcbf75fce67f237c3bea94716805eae25768c889c1b0fd2b718b52bc08a16304ed88f1afe73d7efcf24ce4065c7c8bd5e04cb587da5ea0ed563e97153b65e89b0c2e4f8b54591a1d580d56c503f1ed2cc275a731d29b306a49dee84ecf6401dd984bbfc1529424e0d0662a65eed9d7f16138a01653fcf9c93ac2ff2f7faf48b9261def19667c9549e7f0ddc0b58f19f231f421b27cde38af31dc4ea4e906da387b6b7ba455a2afda601f2e8755ecc8aa092733e54aa9e07e2a5bc54d3c6624f527702a0995fe0456f63a28f6703c202f6be853ba9cce7d56ca3168f00b7b6d262f09fb4917e1ce073910c14016ad9294977d197dccb7cd5c19b8b17b538dee52f19cbec0782b715072b146bde05d2b076de69fd7f6990814d883c1ff7ab1b68b1ead8094dabc532002328b1d92e94a9b23f6e4e69d3564cfd7c12c0d007648e4d363ea3bbb9ac9ebf4f00a12f33a934bec92eb386e62b9ca5c2c6f8722637675d8715ca4e9ffaf28f71d7d3e92d914232402b3b41ed3379086f0a25e37f487022674bf0a25d997afde87259e8988c6742aee422319318fecbe51094653609c86763ef74c239e7e3a14c59b0127c772d71a931acf4be637e0c4ed2b6830d6143696d6d36159bcb6313aeb9426418d4177651569dbbef705ba82380833157e541e3f11377d61ec057d8178c31f95979243363d8b5b0f63b7bc54d748cda5c5a985d8cfdf97648929b552005ea40d3bd1b93360597bdbbfcc69f8ba74e0615af77db7d6b3f0731896767899887566abdebb7b31afebcf0294fe320491f5226248c38ccbdac7000bc6d54d2eecf9e24b4d31e192bc69a50d0ec8015ee336e76737fd1d197b67225b842e73bf1083ff7eef7196137c8ee5d542940143991655fd1f7e0e9de15b9c760a62358643b574a2a7717a6211a29b6df30f9f57dee245df4b693965f3a381a735fbd8b874ae331d59119249283dd72e062a013b754ee1ee7a85388eb3618ea824de63cb189210ee1cc8fa89a24603f5c1be229362e5dc09a499823fa3087ba737358e09311c0a748408ae671a28ef641cd7be96d4e130611a337393d567b1519b7625a3c1b832b5694e9f0db0362c75a7bdb4efd7df15c4142a117bd5616068c0695bc29dcd6281cfe286208c496e863238baf751ba65a8c98d81106f58f92638d247ec88b7c24f0a3d001e8d71b29ae95dc36be645e1ba9d398b9cca41fcf4ad46669dfbd45d8a52a0aa98d7c717ca82806a624afcfa0c647e4ae55515601b8c068ef98bf9f8b18843762c4fbcdf715d087b14f71d42c071afb901cccbaac071c039ac720545a3d6e98c7ddf09242c0f7fd4c933622f2eb67f15206e71af476dfb7fc9a354e793c11f7efaf29073452e59fc00a8bf487e6905d341388da2c293abe05ebfc2c412e8f081c5890da89b25a4cc3e9b7093843f48a525d6dfd3ce6577e4aeb8905f31b9e855e1d54d7e04574cddb1d2bee226aff3ab1e41ab3621f4aedf37076f5bb0e6846d7741907282aecf8c913e5bf5cd80993a38e800e2d2b6f9161e282d2cd860195ce06b13799581fc41eaab8261be5a078d97ff3f7e953c110313863bba62290dce9baa785e18e9a5100f54956477716980e0f290fa0312c45b955d33acde7fc7bd6da8621e23d5573d9f7a45669adb6a1c5d1a4b55133b8e2f833c4360074a9613624eef1d4d1203814bed9df96d5940b99cb52410e3be9cf852e9a8cb73b36f23e79499a95101a4f887d2c44c4e555baf04372d9ce671f459d35ee9b055681423af7bc5ab46df474416242aa46c908c7f9ca3e7ebcaa0dbd4a1fd51d18107efd1622d9608541d77f925b7840da54a61f9a6461b03521d5a611a2e4693432bc4b0b86d1d4905d4e070252acd4b5a82bdd04e046fa3a613a0e575386c7cfadba68f49c5290421a95897b9cd30e25ddd1e549218e028c3e05dd7e69983705f273cc158848d641ffc3e4825088808d5e559a6c6719ec30f6cdf91412a32071a7c8c8a41598bfe246f4358c2097571f8d65804525b48c9b8d969d2be29466269dd1903327f0e0f64505d7838636dfd1d466e3ee21714f51d40c365f55af2cd1379f8686114bec5a2bc9c78aa7f38f1b73e1a23dd644b797a9a1511a77be1c0176710c6f85e48f22105ac9f22d09a9ebf9a822b165cc0b86a8b5b341c99d4ccd7650a7f893c5ebbf3c8f92004619c5cf226f64ea7478e25900ab4227a9a0845fbf625449f79c1f8af86965446feaacdd493958d4c2fd3085dbda720a1184629b5ccd7b3838bdd2845c9a54ab8f5ef6407320e1aa072905e06bd571fb76a721ec0f130a45ad65d8760c6f57221e6c11e45fe6ad408fe2f4639d261751f72095c5943e53597ee7e3a5d3bace3ec8fa3bdc4006adaa66768b1f09f2bd4371dafdd04485010371ca409e9fa3dffd70c5ec8913d9712bdd8b4c5d2d42e6a49b725a055c00d874e6800c2b60265dd2f765f243d594b55ade41eced0081a909fb2ab746f0fe3ccbd244659b7f3f33bc24ee54382cc31a119b92fbcace5898d28c855c25ac97ac6d7345f42096ce76eea2de460022bd962e08e447166f05bc991c9c4b6d9b233d41576ee9c45d13c9dd0fd1cd4abdcd74d8826c5b31480ee56c6048b46a6f134090edbdd2fc1e6a922ba749934a0b952d860482ffdfd6cf0def003eb3cc00270d8c7c7bb10dea7a6f527035407c9824797adb97b894d902b983d460dba3923d23bfd247004fd04b8cb298253855516fe286562d25a08ec386f3f6c472604182966663af662343bc4423bc0f8190363a0e12899fbe3b55f027c5a60c88b5ea31329154419c076daedce4af6c2911833ae1224d534fc1fd7ea31201bdc6020f347e5e310f4691af71b1041ac54190966a5ffb4ddd15802027a108596fe63fdb68e0cd005af5a0e3568f4f6d235760b7fcdd139971a377f3af2c4180d11e5832008367146c10eb7a4bd44fe5ee339f73dcb31ad0d5ccc2e9fb556c8cf59a29d4b2c7a0b7f8b07981c9d1e7e63fdb583b11af42c7e0ff4813553d4ea00cfc84c8d461dd75db175328d48d77ffa9d7c9648024b070a09cbe250220093de092ac8c0288ebebf93acb83258748d269c5c102d9eb9c50d9a91b96951675931aa85fa4421ad52e399c739cc3a7926359baaf4af9f77e822bed063e878d05681855c8436f4be4962b0c91672c841240bc9375aceae6dbfdcc3686192902f8b9521d2dbdd8e15efc44b6e997305c01dd759725c456a4e94b4596a846d09f25c8c0a81b7da01edd0ebdda1afc76bc3415b441869b192f38effaf6fa8055775f186b57c4087bda918cbdfefeba39cf8276e4d6df0449275f30ad4067f88b3e91ea3d6f213f7e789c638dcd010dd1942a0ce9dad3356376a68b1033a3e2d81ae386eff0e119b9549cdec4e19eb7ebde701f293addcbdf9e4963f9a6e4a64da19685f9431d668541eb4475606ad85ed8fc9ee42f76e0cb26738a84a32033d61b7b71a1e0d74069afada3689d6cfe9c5438a697d15c51c04d9e29fff705eef82d14908e9d34ccabfc2a75714a4f5b531c6d2f2913c532dbbcc547920efee4ccbce5e1c0921a85d541fdab04119e0c6fbb21636bfece7e2691636452b9e09ae0c34e528956a22c3762620c8ab903f4dd0469a42daffff3b91d86aed486dabd6c2c3aac95d66477654ae4f12c3528e1f248eb416633ba87b44679079e66ce2bfd786fe5e1c072260c0c3bf1459b017162d8edc532816d180155460714764b5277930940edad354d460f1f4cef6dc5ba34d7f9c964d2ebf90615a5176179aefe7f511764b9b857f1b513a65b28f87ccd420d4d112e7c2d7e3076c138b509cbddc1663f776787b03a998c5c314819ac9357f25901a35b23b5123722edd5caa6135d53ffdb05b2e9b39d59d7346e735c5d1890d276f15f285bebf04df312a3b3728c1b63d0514e5a011d936e75cbaf8b7bc36e80485e4f3f0f8f9c12eda7b42c25215f350e29dd0d124b4d2d73bb2a9370ed1014e57517aa70f7be8b7945e70c9e4fb43dccfe7d5e19d9fa9a24f5ad710ddcd2f79197e331d45584607a8deaab9cb79cfa96eacc72fcdae49c872b15ee88233b2ba5d50da87525f9aadbf0084b62c275217e85a7f5c4a22aec1bea073c1d8458cd04a76cdb674765236d2cdfb7269cebc0cf3c5820b85acc690a2eb0b958bbf1111b39b250e14a5922fd80f8ad9ab24819286ce440bb881a71653da7c6c7187d22d7dd929030df7243db03608056390e0c45a73a51d2e4ef97641c80f510fe3901bcf51a414d16917ab7dca014a962cc89595265d0df98de5d008ae2ab2005431cfdbe87ce37dd5a8146569f25ca5da6ec3cc44bfe42dea8d70bc9930e6ae107a83d5cb289b3c1fedaa337f1c38cf5339be79631c10d5ad6a1b69c78d714fe9cae4c8c4feb83994f955ad5b710ea608319ff0b7dce356ab817f577efd24c537c25dbf67dd7302a14e667d0e4fa3d595241b18a1c04cfff802d25819a4c42acfc3986f45e3c24805cd09285eac5f29e525962df96b2442824f2b63cd0772c3d85633e0abbd7312704bb7fd96e6706ac596848e4d70b5bef4d9bacae072753e0fd6caccaa5cc6cabc5c9834af3470a334e9984911370940a553b1ae0720c86b7309ce0d197af1cafa23a2212d26bc98703c3421f6bb783dccda95649496198123d1e3280e331042bd1f979b7692ba995e1a227963b0f9aa531290ba93e5bacd6a1b296ebae973df624f634f6583e33cda9e44ee977ea5d659ff579f5f97b25f3a21fe5b0c460c9a591af23180ccc9af5f54d4cd848c5e6f5f13e160af38fb6530f92e433479c5deb02f552820135db4a6d4ee7f0119c651605d35b13cf8581d17c54a8e87f16bc7b9352aa9b53d71650864b2d43be489aa3453a7327d14a79611f8fd4d47b427bb10d7875770cc2430d7710ada4d4a46fdcf4113f49a4f24a968355ec61c2fa42f2f5004128699341677d22efd4847e877649cc8d9870b047998ed86a65e9ad20a685f9c9ec1933d2746606d49c4732df53e1225610fce9bccc8622023205268134038dced792247687b6e998d3bcef9d42cca9ac0a8c900631afdf8d1940d8f639d7b1ca82fec09ef9e9e44c66830858c2d636df6f6d60202ac455c4532f3639af3d3781f9e22843cd07c55f01bc417ad950728dd02aeb779dd825da7a02330d3abba747e382c4d504af613b9e31bc2aa4be3ee4cceb454609617f2b46c68cec1a8c849ac1a06ecb1136a6269a174cf077124c037e50e863f3b4db54f0c7de8ec69843c343bb3a0c3177a2095c8d4afff268d67ddfac98012c124129f245b8b6e2f1d654e6738e45507f97b4d07d3d3cc056334fe4fe1eeb74e2b982903700c727db8f9f9db7ae3010c3dbf95ccc0894211667af428033735dae34bab2ba4cf978960a52c1c44fcd194bf17cb5d14f52cd010e7e9fa7965e076eb479aafe90bf4b58e2d1d35185918c5b68336bfc7b0fdcb938484ea7363864fa31bd1091814054f52cf3dc203571d8b0a9374a9ab6456d8b0d7ce5d4b0bc5267f572dea480b9cb820bd39ae999fbfdbc0b6507c1d9eb23b08c6230a15e562026b68590b15919a2a498fae79f039c30805305528e3752b85336f5683a9e28065babf1eccd6a4d74b3721a68fb5cecaae1299cc1a39edd9c6221f8b1b71002c1c0a4efda9e033f875cac7f02bc3ab94ef9308f5b39dd78e5b4b74c1dd4b037fbab2bea48550b6eea8147440385b359b8aebcdb3c11238d3641cc981a73837c491aa20e73ae61024ec6c0102653a55f839b0cb34b9a7b2baa25d6e8fe172e037eb557b19084db70220be63132e17e513197fcc76a2502920dbe8b54d456f917a1faff35841e15684ce54cdd17b3b45832edd74abfcc59e9de174301a24abc3cd2b23d77d580f2bfe8662dd607810ea12d627c95f8ccea32e4310f9760e27d47a9873e3616c90ff7725827e15293a647b352d09f53c80763925f156e1ea47d805dc899b4b0112ff3d8801a9f22e10cf99a87dff00b618728b05f56347065935db56b7cfa22046613d28a333fe8d6fd3f221619b962f713e35e5935f0668a5097c8b7ab5da5153e2ea0187c8fe699b55142cf24c1554633f860e6f6e3b7dec83912ca4398e868660f06487483dfe83d85407de78d4f081ebf9ce8a36c719b97c817c03edf5a0c38507f7f1073f1c0c7bdc0774260f746b134f83283b9b0a5ad4187cc702d5752332f206f882b2e07d17ee213f975c669513f1175fd99021d0b5c95b64965a6b740a4b250a8d6211d06070cc0896d31c4a1282a26ffb9d29c336b771433a339ca48408153df94447f28ddef2e8acf4f361b6a4c39e33b63c968fc9283486089c438d697d13fcc131bb7b44f83a2282e16446945b480131bedf6cd318b91be380399b77056cd0558851e9e951bc17fbdf3e6d76f031a3f3bd7136d71ac2f6ac52ea1062cdf762d6ecd3e8cdba7eb66c230730a30a5ef82163ec823eb8cf6fc92867e0e4072955a0d26c9ea12d34bdff3ec1159fb2cccf3a203b9683baa3e7335a1e85d39025204b6e0f2ddc6df6fd38c981e8de87307b9b72edb99158796e41be1183f3a3315b4c203179a4603b7b69bb4ff452f34fedb6d1f88e6ed14a3e85f09b9aabad5e8026e905bc8c51f93d7a9b6079189aa48a4647723811e25f63c074bd0db4c4d0584061f9d32a77a0a29dd689e3c92c694b5f1fd7675b272a1d71c317824f6c754404b7161812adb1972d15c81a28cd4b0e2473535cc10441129ef4fbad90007f1420598e368c8965aec90f68598a90e027d048d25cb9129c2bc7b33870e8088da9d2445773755386f35409c35db06b56a33221266214d4a3df4e05b7d38531cbc38833d42a3ae34c64d7e5fc7354669889b9c7f43ab9c92650df4e815e676aa5d2febe552ef890ccf0f32964584fc68837bb30dfb55221eb0e73fd1932b2a306ee9274c16762f5b542d4f10ddd5afefb018be25de0405763000ba268b4d12b84fbbc5508fadf628511e03affffa9871422004edae801899093cdcad3a3efe000f2af2b1fffe508b6f97d71a563c24226548f1bba43b69cb245b9ca5778a9b9b973ad971731d991a608ae8ac836fda0765e159672ee832c64930ed15b2332616d4c2b9b5dfdeeae172ef38362899985e8942816519eb05026c34dd2366487ffc9039b0243d74bf44c0ced5c5d1762c518a548182a26d94908926759bc3ac828b58702f0b6cc6ea60e54cb73b88d79644fb15d80f5975e98912086d1de5ea840da5e5611d8b5b49db022ded41515f065b03d3ac8b6e24a4a915b0fc1489518bae14fb11c31073c269c3240f0a783257984d35de769f60c06f36ce5570484327d44fcf022da341551beabce69158311d6ca8cd3fa04d3d769521eaf2a9539daf0dab8e90e2107bbbe8bf6e5592b46ffe7d995c8462990a6524a26b0dcdc8dd13e80d7d2c7bd06a854fa2bba39ce003ef1541551ee1ee32c769e55f63444a76a2c295b562988c1368c9cabea696e33a82ffb8c7bcdce465d2ee0feb42659069ab56f8d30865787f8a5e99610a6e832562ec29cedde9976047b302ea4b311d3b68143003dea5208a608493a94322cd386221b357e6e7326cc8f2db85f419fd33e5f46c35b9b785419f05ee92cfa6884038a55d989676f766c3b2d87b7efacbb6639c4bb29c24f5ba08546f06ad12694a12d58bde9cc340002e39afe4d36d83a821024f23f8dff5c6ba64bee887473eac2c2747cee272150daedf61c233a83fff63b572a3320e88b3db519d9161949f8111f777f9a366051f267fab0c89fca40493bb0270e06f4c16004b8cf7d62fdb13335acdca463f61efd53f9284f12b6c8a793c05a15b6e66cad1aa1c2eda3c12c2f4108da3c048d3494b18401f2b7c381b976e4395b9e16c3ae37efa3fd68a0425c1c80b3e1cfc14c132cb427f46dc25c97c99b6731a276e7279f1a694c2b938b1acae52fd98e65c81de2891dc6994f6d9df4dfa9144ff554b322ad2eede9693b41b78891ce18f15acc993f8039250d9e04d9e6f8268e7e63d848e15109f0c481a1eadf44587b1f2c52d3e3df6690a7204e29e755c0aff979b7e65cec5268b1d795b5e70afb69349792ff89ca3d688f7d026a78dfea30a170678a5c154ac51b11c2bfd276304f282eff6684ea56702b921757621eab9f93ecc7bc5298a64ae3ed17a6017a7da8e5745ce536012fbbd937fc7611f372fd99b9ef5772bd1fac92b15b6ff073e4efef86a908eaa698f7693bb96037521c8e4581ed73d9c06b77d494a16b268025b7600cadab14f4101c11007bbe708518ce480e1d482ac359c7749a6f20c0c4980b3fb22f514482e6da21afd36408445e0b993a41d7fb9ca71ceaf17d32b5f7d71345be2c56b204061f6d7fc6bf64220c69e30e012997a252224356c1e0dde81923a8d9d5acdec97013f3cd24cff5bd6089b8f21530da80915d85f45ef3e4bb0709ae34a1f904e39e236d0d3be98d65efa626184c96de6837432eff69fafa43cfe19fa82f5df99c1e5f31259cb0c809e6f4d4d60b567f3021df07cefc830a12fa1eada365fa48a79df1dc2fe5494ecf056536ad6f2e45ddf47d643cf28745d1fabf73b2af8a96e9821405541d76f506b9dd925042146d843a91046b190226277f7d038dde73244d282caf75648a17f6a7eb8c586a5c076a85ae37af3bf0bfe6c8e9bc453dd42ee654dd44f52da4344c6c526a42e9032c06fe26e4a9dc2a18b3f5c97688bc3c3f46c8ef7456c00894f2569e94b4aaa714e4e4c583c5e365ea3d04337d8b502843be52afb2f675be6859be8c2a0b3424300524ab07900f53d67deb707222a8eb06090faa45bbf73a1b47132c43a7d641a1f479c00d84f64c66c0dc6aec5f316046ab227ae00834a54536684e85cc73a9e01918f9b98e1d746755456225e510f0c547d0632c8e9ca1a1ba09b09758194d845154f368d8ffc5407e3e53766c1bc897015268a4312ddb8e4b2c54c4f6889819b93cadd38722e972fc71caf902b21aa53e1440ae7b70cdc77fc443fa9dad86ef047ac372a3a0611c9c93c90853d987747b71cee851b996c9f1005eb704017443b9ce7af39b4d061785beeafb7693a2ecdadf61f9e86170359f788306cc3f548ed4e3afd22439a644f973d312d2335a82d1e5c5d82aa7ad141b497ec2096aa5a5f75791736c232d7a4278c9f4718a55a36db522a99f1c57cb3f49de5465bfc077204438eaee0cc553dea86c417018b140d0c2fdd76cd1a91e207060e14fddd43842c0f7aa080b4cf5d97d5a31f35103df15c5f1eb392f42129de725a7a6e3eb20e124bfc2ce136851521f3be478b2e7af99015ff649ff0109a15e997be9d2f5e210568548f1f2b49235957a591bc4cd69c373e5c121b4f68bb57ae3527aeacf10ebac15bd068b429119583913b87b352f0b2f4e63e03002084e6e0669f37d4d3dac39489a3bb808195ed4a36d06ed77adaf24980eec6f80d59e4167ded5f5e4fb658e4f91d5a6318af3988c74f7ef9fc17afc607b4e7348cf9b2d6eed8d22c90e37c37c1af5b7d2c150b1651ba91da226a7feb57f33940d2ebd99953438ae48bcb64c89df58f0f47ae8dcca731a72ea54b6dcc3ddc0edd10d2b618903c04243f6e633dbdf3566baaa7227923b387d193645fe17809e3ea987b3037e92b8c066fb5ecb1df01c84bd7527479ac771a624c82545f9a3b5766dd6ee87abbce00781fb548deba4f7e92e4f68c552da5e90bf43b5504ac4a67cda9f54e72ec7dc28d42d339055d227984ba8beb06e69dccc4abfee2d583d6fc5afc96ff285c1060b03192138967a9bccb3a6cd32cec6406fdd9ce13b8cf629ebd0dba5a4acd53b41c5a1199f96ae9f981e0d99261a8f045938b657d1bda7b6ee335f6de43745f9db877210b10f2b65ce10d0c2016e3dfcd5ad63f1cd75def8157369b9defbc70390f9894aef52bd904b8164cc2fb48228b74b64d44623ee7e254fff14d254d69d287c227b0a2796b3186fa7738d4ce30dcd4aca801f27439ea1b017b32f5b40b99af12ae94fb706fb25b04497c3a013400df1231d0d57c91413a888c1b5eeec390322017bdc4c0c7c51e86f4757cef10878f8c6ee7969ec2471f6c25814bc902caaf1f7a6e4a7f917143d559153b6ad9ba081ff40f04afd298da04b13c61be6170b21cbc830c214ca6f96274c0e0b5ad91a6762db24fe6be247769056a36cfa99b3a4587ee7085b8c5284b79ffc50ccececc4f30be7df9df1df10efe367e9420049e2bee7a700759bc49a4a0d1549c6e9809173ff4bd4657b2aa6e8e7d3ce1c55e952972c8c664de72beba020c60810eb5c3a51cec9ce5c1e17572cb8bc2b674fc2ca1158c4925284e2354268848199ffb89e7ae45f8b393b97138eebc9dbf9697db1c7ae3ef050bfa8ca876685679db97a2456ce24a8f2257529ff8bb3958c60e1ad71fd2874321547b069d915bd889d8a2a77c3bde7e11ba4cfe60de9f0898d8c9eed41a83661fd5afebeeb1010f3c759c2ab88ebd87d5b291939ec39c64b50ef78cbfd0d39e4a07c5bf649e24dbb7cc771d0dd510ada22c1f3d2ea92fec8e611e1dd5dda83172931a65295dd2adda5bb09900910fe4d7cc0a476dac8da3768f57358d788ea7192924b93ecdcbc759ed35e9a666fb524a2c0fef4f1c7834694f2f3c1f2ac1f7bf3bd8759a3fc8c94e5ee1205bb508deb4da0154abffef7bc29f5c7c79061a35fec0f88775abe99f0a9791667639783eef85c3ecaa43445e079168249a54a91c3c598687fb5b55320929e73bc0323a4d1da8c0c6d18c0aa0afc89dd0edbeb4e0177cbd1770399b83c1322d7a976cc8a50df52101f79ffdff94764f3467f9cc8defb84d36539884d95ae8ecedaf5165f2c07d28b11397b14a353c6eb455e68c4108dc7c7733a3e01c9cb983a80a47369544028bee23d4ad5aab34e3345eef9f429268869b380db90145e9c414e76172f896ced407fe2487f5415b3e54bc625899a2c12b9275536833dfb0c8e2fc0521752d78f25ec8c072a02679f1b01ac8a2cd90a20279a47dbd57d08f876e510840a07dcac02f23514378cca119064fddb634fbbc0c80283a197cdfe68bcbdd468faa187c3315a8aea61e2defb1bb2f65865b142245c324c614ef0d14ccbb6f434e6a732eb73e7db77106283afc42699af48026d1ec930e074697cf5e6a0ec9554f71e6358625d95a9fccc83b68ef4cbc31c6ec3cf16d8fbd6367ae107eeca0c420687a443c82995a3b1d003caac19a4807526bd8eca5f614deb171745069d0c2f55d28bf3c49198a77233660c03ff510825eb5f484a76fe9de68ad318e16e375b647eb8857d3e6c273a5e15b6b71c218899d99500d84251e24abdad6b3d9142b4af20895be29e04f432fb966a459a98fe8a8c9aae19438d205726516cfc8db3c0b76aa4dd4904deb03b97fef13b152217a9c8aa48ce9bf3f8669c83dc1b3ce58974ffdee9f18d014b496fb80a48702f110f4cafe18fcb3b11d2a1da9707495e5ada9ceaaa980155b80a79b109c89850fc1143017bf336e9482f587db184b6ffb48746b36563ddff4514c7c190a09241e847edecb2e21580d33fd3a245351a3ba92838f0a25c2008cb99ded20867d23c4f71a60af235c08ed42e592e73a58788a802049f49ab1cf85039a4bcbcc1032c6582259da1e0123eb27056ecc120ab47a61249e8e80d162b6c4e315d77d206e62a41598e236a7954c9baa11a4f936aa0c593272b05a4b30fad8c6d7b944a396c9fa6bf3e2d6da70cdf462109d0a1fe0e0c6960d3675c42fcb2b745ddcb97aa9a6387e0d97aee9cb1fa1beb674d5c08817bf50996d8fa333852f03aebebe0b2eb8182fc8780394677140b3828037cbe015d543c91f51def8e6bacd8a6e9834fb5f8b47f53baf77774b4899bdad35dace2a5193aad8fd1d2a3a27ffea248a54a32a03c2edabf13944fe9a29325c8d99f37c6b64bc67bd1d557c6095ab75515d131c47714dc98ec51dbd99a4aba3b083822862dedf99be2e7c646656b8f94a9c1abe4b8ef404d9ded5f888ebd03a5d9049e0231eeab243019a6dbca2e8a59d64872b47d069a0f1695826e12c83410e04dd8db0f48288e916929ddd4a78b348bca3dffcc209e7cfc2b5c3c841809da7d63671742d005154de71d997273631535ea5ad83c53811e80a1127bed78bce9526f24bc39ca878d2540ec58b3420d6ff10be13190881823512308e3501f4b0aa21ad3bdfe86f2e498321a99153cb2c0fe51ed2b5a797644f482e8a3051bae31e0208a17d7bbd2fc2020c4dd7dd0fa34e58a7947adb4e073efdb775050bf619d880d9f545976e0a29b854052bbb519454cad7d3de8c2b8aeb4212be16a12ca0d18c4f944f109dfa3f5888e238d18c91961cff0134932dd92628613efe4610bdfa18e74abb2195aa4a3b4d49bfefe672a290db88932ff8044304a391a79c92965208814ed669fb0c61368c87bac6cf7980b00e6950c804fd1540d0b9a75a282f7e78577bb0358520f37a4b2a45b5d4cd38d5368582f9e90973fc764be6ba5c54fab9e0c3e8b88707b507a2021140a1032303dd7e7c9b4172d90e76459508a66f207f3b75a33aa1d820a707b078b0e172d6126a4c469bca9c6509a7b783615c6bbb0a8b080a77620c0f0121e32c91c307c0dc67f151d83dd0367d542e3825bfe65518ba2c03132d2db624e9268dfb445b0382430fe49027f02f8a4019fcae52c9351a3c49d4f3c6b07574b707f0b2a550a97ce2b7f86b0541981844ca28632a1c8ec08770f041d9288f2ca57da63f0e1b712e39f3dac39a9fab123d7d59befd8e5f6797ddc1c83b9a7948b9134cb67f1ad81dcc23cdb852f6717f578e759e3999684a32d47c505b0b6627bdde039266bc65a559584125dd0b9828bbf326772e7a3e9fd7654cc7c9d639bf41618eb5fc98a94ff52e39a0566826883c6c39449140008521f179bd75faaadc81d45beae633c793829303f88b4212625dfcc97198a0ab40e1c4e5880f9503271a1478b7635171b4e5601872545efac363e37fe08c8603e2fc927002d1d701ce59e51c95f893b167a5941947941751bc421e4e009cd90f1f05cd7da7398e4355480a71fd33151e5064e5dcff3b2ce42a635b05089f40c893b9a686f4fe3a773c934706c57b30641699130c2ca9eb817a46b7caa8a8c6e5e087f4aecd5b528cc3f06088eab52ed6783a7e6ef70ab367febbe0001b42824a5c116eb8f376de1aa732dcbb3d4733d1b244aca82b338073411d001110a23fea6f27fd22e5018074d34ddc0f59729414c40ba4e2d8a522b11df8a7bb038170021f91ede7f482cfcd4c7fc7f1fd36937ebdfbd27d337ab09fab77c992deaf40d5fde46b1011888c577c7acfd37957552f44fca95e80053d136ec721848af04bd625a364085f9622cc6c5aa91546d6e067d01e1a4f445a9e12d6399c7adb3549fa4286a407924b126284cdcfc238a6f4c424f6530e0823849875091f34e713febba657f94621395f51b67cfe7cb84d4aa2ee6e7f9e5616c08f3582981f0c0f897bdb41d68e82d25943b177768dcc168e022a3fa18154fb75c3a905570411dcc415fa061f597c1da3e3a4c42cd14fe0f4adeda94ae7a707f2ab3c973624743f49f0cb237cb8ae61b4316bca91781125ff2655f05d9b696899bd13af5611947daf4d1c39af29feb3ea14799e672fa85c4184b6c6f962cf2cff38bcb6c7cd132c2a1c0aa2afcbe21ffb64cebf5f9c7683df168e53a2cccf2b95785095b1a22c6f1fa93606ef7cf763ad8d9b768336c5be4de2c23cf442ddf89e44468259f33d0dac294abe7614ca96247f6b33ef39a8c72c8a2391b5abfff3bfb52294a48ee0d5455c9170fcb325a84006594458cfa5d1f36fe4e70addbf2cbbd2944dd135d1f92606db2d5ea9a559ca075fc348775b0639e8fe1c82ecbce6b00c1c015c9c51dff85fd3cacadaaa8c0f26cc92b5a88194ec838b098fbcbcc1bb3c5cf612662b851db6e81461499ffb56ea7b168bb7831789fb19b4eae747102d2942a5dca693f4fc79f5bb8618a14b350743a832c71bee18e57a1a60d091c3238367baf549941364fe907f0a68515b45af41d6a0d6b61bece7b07cde6d269edbb345d396f41953f697a80193ddc360064aedecd643173d68c1d637579f1a428f76e25f7a7a45a6063f9660e59a5a9a593bab47b6a1116d1269321aab550573b0d2e02bdc17796aa3ab149c4f55499657ba9a4e8185d7abbe47b34234ee475ac71c49dffddd14aea9ab64852c82bb86f235ca5ce21582fe1fad9d8876f0e228ed09a3bd2eaf47e2b611de7ed3b72345b0383ca3e1a36caaac03e84ef6ea5815ff93724843d339c3a17b6c701a4c7c68651aba9a181ff2a0a656d768b227d9d7c34916d5fcde7c722209986a40939a26a52a9a0a97aff1a17ce7fa281e6bae5a52832125a313d4347512abe3c9d91dd63fd12edc560167871c8ef8c0632c24412b7c91c1fbb51c27bf08f4324815a44b1c687da6464ec395d7b04454b389a1a12b8ec8220e05396054bec87769d0c417142479ee3cd8c37135baf9911808140bd253ff93ee311417f51959169e61bf018ffda79708ade2496722e10e4c2e0ae5fc7d7129f1471426f7840ff80ba5ea4852b704cba076c56aa168dbdee0feeeefd9d452d9de758cab00d94fc7a817431b57b2b4b6e9b0dadb9ded862998e0b66478b7539d7475087fa9c8792514cff9585a0b5ddd08e532d9b870702174b87e53da036c732cc7dcdd032ad2cb86423287ec231842358c1460d6bd4502f8ad6d4782c71df9c774e3df3270b56358f5bb5130eb343071b3dc9391cadbb99f830be15b08d02ddf02ff9df1d2f2c8a5dd1cff841ca18eb28af1365c67dd9b34392b4e1699a9dc6db23b3347ec66590039c9a628e3771bff3063334c4f6afc17fded55ee0f32198d66930a776063fe2d5760aaa2c2e8a1d31949864fbfc04466eef3d94174c9e82df101074a90b18df240ebb55e4d473ecb3d3bd2e501ae20463ac482e20b2f71c2f0b99bfe4686074c01470d2aeaebafc8799638d26a26526fc44d36e8b07fcff4ec75a0dcafb2f728ec6766df52f94d9f2a400afe9a679c80d8de2b9463fd87eccb66e48270b41c36775b3ffa4a654e913933ff400a81baaecd867d0988ed70157eda02e553c96f7a92c8ba1549cfec98064d315394aa0f5bc90b20f42cf9e8ee8cf2944da69bbc2878395e340c858fe04f066c4586187fa5bf4f6da420f48782f744b7a19dca637bfa79533d32e78722f93cedc9c7097cbda7fa59c4dc8accccf3d55934a1131150baaba75b1ca43b39ba8713d129ba83a9f042a38695f4f1da9902fe2f360f3f1bff4074efc6d2627983e2b733b414636ff109b07bbebc3feaac2e32530aed3722da3dc0f5e98537208787d13b7a6ce9a58a59f9495c28c2cdb16a75c74803f2d527a75099758236aa43ed2a7e996d7647","isRememberEnabled":true,"rememberDurationInDays":7,"staticryptSaltUniqueVariableName":"e108eb465047f7873ebe9172fe8af503"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
