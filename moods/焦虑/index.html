<!DOCTYPE html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8" />
    <title>请输入密码</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="pragma" content="no-cache" />
    <style>
        :root {
            --bg: #f8fafc;
            --card-bg: #ffffff;
            --text: #1e293b;
            --text-secondary: #64748b;
            --border: #e2e8f0;
            --input-bg: #f1f5f9;
            --primary: #3b82f6;
            --primary-hover: #2563eb;
            --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #0f172a;
                --card-bg: #1e293b;
                --text: #f1f5f9;
                --text-secondary: #94a3b8;
                --border: #334155;
                --input-bg: #334155;
                --primary: #60a5fa;
                --primary-hover: #3b82f6;
                --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3);
                --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3);
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            transition: background 0.3s ease;
        }

        .container {
            width: 100%;
            max-width: 380px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 40px 32px;
            box-shadow: var(--shadow-lg);
            text-align: center;
        }

        .icon {
            width: 64px;
            height: 64px;
            margin: 0 auto 24px;
            background: linear-gradient(135deg, var(--primary), #8b5cf6);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon svg {
            width: 32px;
            height: 32px;
            fill: white;
        }

        .title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text);
        }

        .instructions {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 32px;
            line-height: 1.5;
        }

        .input-group {
            position: relative;
            margin-bottom: 16px;
        }

        .input-group input {
            width: 100%;
            padding: 14px 48px 14px 16px;
            font-size: 1rem;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: var(--input-bg);
            color: var(--text);
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .input-group input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
        }

        .input-group input::placeholder {
            color: var(--text-secondary);
        }

        .toggle-password {
            position: absolute;
            right: 14px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
            opacity: 0.5;
            transition: opacity 0.2s;
        }

        .toggle-password:hover {
            opacity: 0.8;
        }

        .toggle-password svg {
            width: 20px;
            height: 20px;
            fill: var(--text-secondary);
        }

        .remember-group {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 24px;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .remember-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary);
            cursor: pointer;
        }

        .submit-btn {
            width: 100%;
            padding: 14px 24px;
            font-size: 1rem;
            font-weight: 600;
            color: white;
            background: linear-gradient(135deg, var(--primary), #8b5cf6);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .submit-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .spinner-container {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .hidden {
            display: none !important;
        }

        .footer {
            text-align: center;
            margin-top: 24px;
            font-size: 0.75rem;
            color: var(--text-secondary);
            opacity: 0.6;
        }
    </style>
</head>
<body>
    <div id="staticrypt_loading" class="spinner-container">
        <div class="spinner"></div>
    </div>

    <div id="staticrypt_content" class="container hidden">
        <div class="card">
            <div class="icon">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 1C8.676 1 6 3.676 6 7v2H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V11a2 2 0 00-2-2h-2V7c0-3.324-2.676-6-6-6zm0 2c2.276 0 4 1.724 4 4v2H8V7c0-2.276 1.724-4 4-4zm0 10a2 2 0 011 3.732V19a1 1 0 01-2 0v-2.268A2 2 0 0112 13z"/>
                </svg>
            </div>
            <h1 class="title">请输入密码</h1>
            <p class="instructions">此内容已加密保护，请输入访问密码</p>

            <form id="staticrypt-form" action="#" method="post">
                <div class="input-group">
                    <input
                        id="staticrypt-password"
                        type="password"
                        name="password"
                        placeholder="请输入密码"
                        autocomplete="current-password"
                        autofocus
                    />
                    <button type="button" class="toggle-password" aria-label="Show password">
                        <svg class="eye-closed" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                        </svg>
                        <svg class="eye-open hidden" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/>
                        </svg>
                    </button>
                </div>

                <label id="staticrypt-remember-label" class="remember-group hidden">
                    <input id="staticrypt-remember" type="checkbox" name="remember" />
                    <span>记住密码 7 天</span>
                </label>

                <button type="submit" class="submit-btn">解锁访问</button>
            </form>
        </div>
        <div class="footer">Powered by StatiCrypt</div>
    </div>

    <script>
        const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        const templateError = "密码错误，请重试",
            isRememberEnabled = true,
            staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7ccb2098e0b849f7746ba25b660dc8c6613c6569d69910b73ac870d106e76d894e629bbc6f02d4be7c1ff2918b788a47434b0babff98a58a084cce131b6827de5d253acffcf53ce88c5ab1a5b08e6304b2c4e9837c70c4e44026eafeae5a01b89ee625b8c47a047344d34ac279bdcb2c823a9ace6c02ac8c97c3314e88f70280b2602bc2626ab3b3011678eee8f7ff7debd009f3fbc6efe5abb584ee5b294c83b57b55ad941b04ff45471d7c777de3c717dce3f23387c64c854c7e6adab468c97e5476e08fae42a2cf67cf7a478ea9e9a4dfbe9964d60303cca4c4b8aa97172601b66100bda147ea43a377858f935bd6c2ab4408ea2b7488c5794ff62f4c2d8f25e4ac581df6bd5425871c9574014a1b250ce47fa6859a51d6fa450622bea82f2e9dc0b4d0af8f87df5a35aa1dc25b67ffc8fac11c3e94be38a1bec4c38bb4bbf80a69bb076e0c6691cf8d727a79c0048f9621fc55fc47153001299e9d7ff596973151f753052f732f5052368bc1aa4178e986e410efd930b3118f0fc22252c2578bdacc40694b19e4b60ccc7894aa59f140b369c903df7c7726249dc616b25852287f8515920d6ee23c1aebde08bad4b608f99144912e1b3d9435bd19261c76416fc0a73698fe381bd763f6c79031a79418018cc3745fad45eb9ae04789db1e2203fb74a4b5840bc47b4808b83661494606c9cac3e11be7e430f2027cb2fd37a51ea9e37762ff367615010cde860aa6b23e212a9da62c45ecefa7d54474e225fe882da59ef6c5aed8a62396e4d03c249f8bb477136fcfcec9d08fca9e0f7b6a772aacf1c1eeb0d55ea7e1b3fcfd4ff9cec6bb4592600ab79837d9f706ad2d694cd79e21c5461d95a93d79a80d3f9dddc92bfc3cdd2a4fd4a8351e78678e1ce0d35140e6100698f770b489efb0e8f74aefa7ddb780f2e007db7ef60351204f341cf56b9b1176c2b15cd8fc47968a23503555ab5f262addbc7ac8461f657bf72bf8018c667783ca168ec03572476f0ca442ab319c78281a360e90a7d4c8f2e3cf2c64e793a828543e3667e392f83105bff4356e2a617a8dee6bd910a4d0acab1989fb6f84398fb60bd90eca32c3f93d582c42a2b23f81641adae2e8bc9baa0dc4009bed132a6d591165aa59b5171a98c0e9423a20e49091307ce51f731fcf733b168f48b654785d010b066631109154a32c95c2b5f0cfdadc7ca98a9cbe060ae2cbfccc83eecc588b7081197bfb36a3ab113a03628b984c065192aea844d35a1eddbc654f319a11e281fa90c5cf7c217f12e7fe82f157a41ca4186f6fd79fffe7a44bedccd64dd5eaef052cfba2ba8d39b0376cc0ed5069b98fd1ab7b61c461cb7706363a93e95c5bc5d9ccc1cd31dda64c1aca73b326197041a53768b7cc072a525970197894ffe5c5d208713d8e5b1eab9385ccaa97e44fadd0bc0f758bc3f848b602f7ef522d6bdd96ffa6a1879704f616372fb42408042bea2efeb04257df26b2d2d5ff3e584951ee3c38ea0f3beea95ca4534b270434d378ea49e48513dbf2e26029952e42d8edbe8299042b9c0983219beb00d310710da4717edf8f3bb7f5f45a35a358e52062f9df958c392ab6e60a416cfe698956414a18d5168b7306f6a922fb1012e8a66c9de82412885846e7614ff58d75c9dbd4530868ce5fdfa4324d61f7ecc993075b5a653b322d54fd054ed6a2cd60bcde9adad7ef4dcee6ff381ee77e435e81c1a05540bebc686697e8a8f83a876110f4c70a0270260edd41a93b50c713174a8ac080d1fa6c53748ee0e17e5ed0e89b91c4520821ee58ef4245a2daa41eda94e056a0a48c4c8d0c3c49882e0eddd66fdda4393de13748f8aa95b831886a29824e8fb0c176aa9f48f287783e004b33f6aeb165fd14957e0e99a4d0070191ea404ffd7a8f80eb811540840fe911bb32b2907135db860a39654da27e95a8ac26b3aed00994ced7e509f229c325200317684d27c6ee04e1ebd7d9ea7029b7d9f2864bffb7557fafb6fc2e1fb1981f88b02c5534bf89cdf9d2b36002afa3187eef4cddebdbd7e5aa9232b75055ec11f9b61cbfed8c37d90d2cb83d1cef6283b28889e32ae043d3b4f8677af2f891c25d8e925d7580dbf40ec6daac3daee7b25cb811b0912d23f75e098f859232fa298d56d0ae3067e4617ec536a0d1c335ab6465b72e1fa2a0c89c9b0f37d36d2b10774de16ddce02175e8848e1603683b811ce55b53323328eceec84faf510509eda7aaa735226b265282d745f0a671c7f4b78a2418c708c09e71e23410927a61d1ab9466865e1030eab305f4ff71dae947707ee7a519b08cdc8ae96a907a4b543b3e71711c2d9d70d31dcbc87630018ef546416da2cdbff163da55133bfb2fc7fc7b09f2098a8455eff03c8a337ee3a2020b8d33a96024cb326afc51d0b4885f13a6dc9dc63e1485b77b98debc794c55acf062d97682188b94973cf8502df3d01fa6ba6d8266a664b00843e0d55f48f8c1f2953c8e3912a7db0ed873f91346be60e5a1ce9a2af0834030ac2e583854dc86249692dca616f53942eb602aa7ff34b0f55ac9c3ec6bd44d418db9879105edade5889e291fa99f1bfb2772878fa4c4e2cfd5bec9079cb9a02f05c2962f44d9222102fca178e53f707335e93220f7f14f047212f086e71d0f215fb4377be1171b9f50036b3f3344573f515e69d0043b2645e2a7f2ce9bcf79b4fb22fd73dc3f768059dc2d053e2a7e19713dc2605fc4ee12d02e2193fb8b62de44c0d2ed9ffd09639b837e386da8ea567435c134b6a3a363a6bf25ee18e23d46476fd8dfab8c9ad85253dd5fe9423f6a8f5cbbee516ce21d00f6f2dd16586e0fa6cf6c7f1f78bba275ded5cc401d65439d2a172bedc65075af690c1f4c8fbdd96956275ff52e2c0cab58caae5e12bc2b027b01970a41f1d7e89f904f044147d3c41e7b02bb4f8fc4c62dd5cc608d7be0afbdeaf30e3000ea368a6fe6bff7c191c34fd0307c6cdac9e5e83187559ac5a9e7151ec8f3548df23c38f55907c0b74b77185f4b378914e08d91aba5ee69fb3cad775730f872daaa84d692fd831196521100c7ac04bec8d62e2fd56456ea055d97cb87997e5c2f17f0f6017877388eb94089f47e9fbc4743ae49ff8bd5864852031fa449bd8e80e97be4eb891904f1a91e7cb870885a00f2a9fc64ed9152232b893d4858e5dee5cafd559165f66989f1fa9ae802d833c8bb7c38c9ec0567e2e364d75b3932f4b8a31b793a2586cb8c4a2150b88bc036390585235e6d74bf011f4ca80453e7f774ce9495f32934c911896ce16bdaccb976932fb85d56fa8f56d4fe6373f6a283a5204dcc23acb5c9424ff2e1fb670ce8769a77725c6389c996402ac2d369efa7d5021f7d19ee4035ee30efdc724a4f956c932ef929ba80d30d47752f64d92f1fbfcfb77b7a375a3aa4611e441d2710ab8680182c8f07ddc2a19bbac7898af253148a74a3d9d565bdbfabd40fff762b84a8f220b56e430774ddc1a4e5ba3c5acdb2db4ed9985f2b756c9273d63518496bffc9cbc9798d80842373d06ffde27d9f67fd9664c628c2115905502eb36c6671bf4b580ed5a8422783e1466f09dfd69e7bb16080371437e6e99677cb7584f59c31562ca477659323221ca3588fa20b45bcbac6d0a480b96a5f7a8dbe915a004a13e856707572d007af2d31463e1789db0970f0b37f0679c88bdd3e07effc74ca24f351c605b75e798398dc39ca3998811ef2cec7b5f22c2f482b9421fad797c7d1da640c3e6884408e2a578abd7fcb4f8b62856a6c3f62d9a23d459711078787f67fd6e0c13aedf4930234949a2d30e63774f7429ec4e8374f0c722003611f80a74bb3a2bdcbcf86a83ea9098cad9d020ca1cb8830fd9007985f70baa19f243f6e7b54ea3c0cc152e4a3da42363817d8a92b4ae34f37f0c610d1197ff2599f3c536974106b0bdd58ceeabf4e16e58f2f1dcef247309813ea19954f2a7325fe9a4a5b3ced6cfa57acd46248c868fe4011d02330cfab446ad33e8813fcfc89de8eb872a65f8595374dd0f51c05e80c9f6d1bfcf40aa26d42e5e403275d99481ed0ec47c42e62c0df3469b501ab8ce2f3fb2b06f93d9b24e36e851a06ce41bd9124003ade9341577847b7205af8df56fe8ab748421023429adaa718d6baaaacc843ca888b60567c2f2913407e31c32b711ab8ede4473594b4540ba4acb1e83aeced8137421cb5b309321619756e57fb1bba58e1e7acde2bc2b01722f6eb5336a4561ba64232ad1002bbecc8114de8cb030b19e0e59385fa1cb2ed2d9a95c8a90cec444c0fba37dac30e5a99e2e5fec204799d958daa64238825c4af6f181c1353eb5e52689cf246ed14cc24b5ef45ce45719f5c743909e4cfe181dd40dcba11d3fcdd0f8a84d0605e694d5674f6e38375f6d1d34a9fe4be9f6e6f4a8f99e6c481b7e31ce6b009569b0489d23a0b697de26adbb18b4e70f8e36ba7c4ee20dd91596a177d552e90f3bbeab8e0da5d22b0b54f4c4e660f344be4a4f304b21512c13834a4313306173d311e431b15241557c61829daf619bc28811c88d85558ba36bc464c94b2b6090c7105dc8ec328b5f4dc43969b742c99e71eb26e3e536851f57bc2a9405a615c6de1e8d57245ebd9ac255e0467310f838d1a18ae3b8b3160b5637ba0765532285bfd847a8d47b9e1b533e86017d215ecf87a69fa4fa465e5a53240bfeabbaf56bd2b159a8aafb7d89245f44fe049e21b167fd2794fc3c528bcc51cb8480aa2956ba4327867f8229141d3aa22558182c21353149a7fbf06af179e4a3c1d92a1e9fd45e23ac4d0bc7db8cffc82638b4256ddd63445064509b0c7fed8947b47ca59757b96060a9360adb8fa4bf5fbfb24e2b7061710ae1c8678ecb33f050c3237f959cac630d3cdb1f2e5a0714acfe330868f8d2a25b7482379d07278d1548eeb0b69891c04e68df989b17e39d65681376eb18e2ca9f4038b00769e129dd278a1b90cc9611620196472011d9c54e1ef350db53254001ef5f20026251e0c1a08282da9aca18c01bde0843ca482724745b3e6c7c7f2ea4d1490fa7316f6fdb418f1b5d59bc6bd3ef1fbdfa749780a54d71a446e8fcf4edb605fa0d026519a674990d341fdf842bb7c72aae747e3c2519a455d1f42ef76296758867da64e75dd09cd66bbf9791b54e9c2e26a5a4105b24c7247bddd537b90023aee359d4ed0dbdd599470e521febf00ed4b021ca44a251feb2dc8401ade4b01db6d13f49f81d72b15607d0ce2398b7fb451b394051e5b7c06ae06cb0c350f98d3c6dc5dc4b34cbaa2877b4ed6dce7220a77e298569054c737f2b545455b230dfb65abfe028f43c04c17df737add85bf927f973203501ecc2bfcb4bbbed21a0563264b55f8d489826f652a18aecae9a155d64b38db1bafa781db9a798c7a0d4bf94399cbe3d4df1d1ffe122336e32d54a5692630c6a3b854beea730157bc76edf655f42f8c1966a1a2ba014e247d5ce753cd55bc78fdf6b4bb506d6dfe16f0f5b9bab65d07ef471d6e294fc5a444ab01c62754eac14c8f4401b773a5fb0cc8238d99ade69ad2c1d057b681aec12cbbf92e1fd135651fee39edff41de3ab2cb51102351d7a5f43c77b30ea4a5aea5ec2ed27676897e37a8d4ad173de0f427e3f7d54522d92bfc22a85b781fa8d786e1754d3eceecd04eed7023130b8bb90bf91590b92f51207214f0b688501034f5df28d33c04b9d8bcdbf57846e1324120d7946be68b5748a19600a52e4a092a8175d7a1a3c4e5c9b55d001a2b05ce32907083f9fc335115edeb76a94c5609d0bc2631b2abc1ea5e9a602d9c03bb993a4697a586b9ef82e88a9879480012189694d879b6066a704777ca58103086b0af41d63f7db8d59d628a55bc7f54e1285429f8422a26ad4aa7b9f79d858a8f8e23917569dab93fbb21108d27d892e7d82c02a7dde4655beb3204bbcee8a2a0d1f6d3d7901b04cd97d8410da09a132adfe36a9c93966ef20f19d2d829ce968a4e29d4532d1ced0d315aac2b8364eaf5738e77c23f5051a03d1382c47699e92f1ad3212e561e2c3dbf68dea417ca45d3882edf0253eebe46feb2ddc9d6baeb17feb259271d01eee9cfc9f130724190b35c738d174d217574479f6b434fcc01d7db1dadd3813c3cb310f014dab9dd94c00ca76fdd786f85b9fb8c97b50d7b16a6b11ab78dc8b8199efab508725cd7f22a0be63922b77fd6cb9fd7481db2dc4af6f9e013f92268ce940b8d7ab32be56758af39f8c56f9edbd776f0e9dd7ffe14839384113f3b394bf59ef988c2313260bd9c089a2eee468c3446bc40f07ac1574ce73ae330ad9fb3400cd17eabb62f180a2f79d478699faa82f98ae48953cd20d554a2c85db37755394609f961f49e0cfac759b17e91874ca062b497dc80fc618fc1e43fc3aa1d74214c9d1d4261da673e304c5182d1ba35d7d718b0ef07de3f1db41a4e46040cb24f30283bf3443782eb04e49a5e76c88d956aa12750c8d17b727bcb051aa49ef95eed63ef64f928ab6ed6b0222e8f9989b774937523ec69c1e747089bbfedb4d52d9ea66c972ace7249f0d9c268f4977ab1cf30e7a81413c2bf5fc3bdfdb846520fcb3022511070346018f2e210831732e7b5aa8664b092041922c5a4d2ad5666b5bbda332cf62184d2647ba0118eb2b5377bd0af7f0ba43028eb9c1de774bc927dcd58e29dd64a50b814dd35adbbabc0b6c99305b8c1b23069342a0137e6dca6e517bb2caa53fea19dd8abae3e55326ce4ccbd93444a11c3069356437742388be3ed680b56d3db30de8cce2e99483fdba175088fbf39d7a34fe61d7785d5e057b330792aeac5a2969b5975bafa723c785e76ac6e33e6ebf4c84863caabfacbe370e6e23d430d64fd4fa67071705731fb4da9c13ddb420cc27e12eadfa1ad2b9a683ab2ef015df9855befaae05061e6a83a4117ab1c9b624df6ec28f2677013c066fab81be4b661be194ab5687a5ec172caa27d011535257899f5d5ba7693d73368885ed8fed70a42fe613e4f55ba23786f73af473462ac4e7d03a4ff1d3bf8e3ed5a66e7330876eec205bf1b3a19cf5155fb87d7481437cb07972afe6b1ebda4c7ed9c869ea7bbbc7aa7af9539129b6ffd7660a36904117208899b2a8ab4559b6b81a91a15f67155aef20264d91d89c85821e4501a216b21cd3d526a0aa0e053f4e7b7ca358bbf8481c30c7e4b2bc6f8e7faea149a274499d754226f74b0a053f48d35b733e9aa51d46c6b168bda03b16e86c9b56730e5f617c5bd7cb210d0c77a275d63aa9206b51d94e90f9ea425adbf93099903b00d5a95da57440580e63852a26b7780e551b6ec858a0620e36e30a035f78d1a7616b23aee2054961d156dcac4512f6fa309ca6539ebfccb0343c6161ebdbb939a33bec5afb6dc95e309ff13efa99d65c09d318d80c4e755a4ad24b27c288d88db0a9748210aee74f224065a1e6a7e1977476b57ce4270a21522f8d7ea3b827b359eb73eafe9218ec411dae7492f9934aa770411683dc977ae7185aa7e2d3c434c6bc0f78a9a3b17840c7228cf7cf79542fad783ee4efdb0d1a222baf39a96d820b52033ca7c114c07d72c3c59e8601e2d8b6e23f0e364e11a1769a8cc9dd41bb33824edd59c7535b7cbbf90d82280d4a558590aca4db8664497666afdfb4ed31d073b3bd3d5ae9dda46e8c31cb3f0bb7027fa2ac8c7c5bfedc1b791591a780121f8439f233a3010c9afd26ec26ac64c7c303954754273992f0e9ca900c11bff8b2c1ed256098925ea830cc0d3c31ee331c0fd5ce1a1dc00d11401e732f62d1f80d2129864b5aae65c6f035447c0ba1f8127d38d2a03c440abbd7d483db9b677bdead3eb92f5056c8f4affdb7db93bd96c8acfc21e807cf732fb888d2f9e786da9fd5f0c906d5675ad3635520934c94cfaed9f56bc93ebd0dccaac93a4a2541a558f0ae5485d0f43c948a5ef7cd63ba144e87ed5113120be229b97c9b259370fffaf6146c1d2f3fd1d04dc78158233033655b4188d3273fa3cdfabfda290451309f321abe303a0de269ea7a037360bd6f2c32a564899d684be4c9e7ce57f8166fd131dfd38c87af17a04b2b928a81419befe7b14260347aab2efae926fe69ab8efb404ad34269ba06c33ec9297beb9c5d90f82d5c92c0f725f36f3ed5c138ae24a55f08c7670b038d271c334052d2eca04823b5df98ae344ab3f3e8cfb9b70a1ff0229b27a244b10877813a9a839838399842d4f4c43460a27a2ec43fa436ebf1ec9d2198c83958e93a86ce2bb726438929d2bed679c6bee04779b081ca7c200f3716f97a547a77504cb80371b6e084ea7eec6ea10b0755eee386970ff54c5cc2de88101214fa51297bd1cdc29d43f716cc6f81b077c1e5d2139edfbfe381f7ef2b339ebeaad92fd74714b05e06fa188d5b14e610070f82eaaf34fd7404ed2fd32fd8caf57caff83f12da6d9cd2c443b9d9b74114db615be82b2034cef3da8daca99b73fe9dae1f6f51c6e9639b23b1d5fe48cf013f92fb203103e30d1263eb7c87f7de3cdee579b968ce4cd8e11f0b5fc8972c2c244df9176bc85cde4baf73514c6dd3b2815c655b536f3f19a15ce29fd908ffb3bd373b5383c91900ad5861b6d25541470a90070aad7f8d2d9d81ac8cb56f7cdee76044c8e352b09bdd1ee6a1b8e6253729711a3a5f00d5c46b4b80973a88487711fa4182df6922c1bdef62bf31b9a74b16fcb40f636e9c3b3552201d889899e422a65be080efbeeabc6400fe3f0f7ed338e88444952be455db48db8612cc441c37327b2bdc7c67ac9b05e2af7a1fff8c3463a8eb1b93ebf436c50b3d2352c716defdd448c0f1e7be92b063f9080154dad04c0ca001b058bf821cd1cab979d8087f96811e1663dee021cc9aad54c710e111798380ff1b22e2e92f66dfcfcc392f9a200ae6e84e53f3855e8dfa6f2ea49faad15420f3a3c9faf6fecb45e09b3d3fe652c7ffc398f6c1101ba9e41104fc2e218e29ed4bbe8b86425fac30776ebb662729d95f13b0679fdf3b86414619d5a23ed482ff41f6ebeb13fced8d98f88c604ea3b196abfa291929838e0ba3e04d955af69815fc9347240447f8a542861fd517bd38434835d57fa0f596a2bd2f365c932746169925d669d02839eed42f45ba0b532e2ba32e4fb54c68d407c432f31325b01d91d37f5cf09841d493abae7b349be2c3720cda0462bb04ca00941c1b1601b895211766e7fea902adf4b17f2fa64ff0b4997475f7a3d76f8a9c56265d9e6f50b29217c6878f0a81946fed7718625104f394f9dc093b0bdc4431dba3e5df4c4efba96e3410b84185867582c3ff33ed9b07c00cae5cd1c47064f9a77404d5d0bcccde40d5d0e9b46a8e8422750e49531661e49a3d6c40a9f3121a911b0731334507382d43362a1eda087500478131ebaf93b93c8806b3f36789474b27222a88dc0a5ad93d72b434863b4e1a513c5c36da122e06438665d3b6a1f5525c7b5c8762055d309e68970b47657809d114f1489df48df05e02a0c00e1d7e1e61187035a9f8ac67028a86876040c3a56cfe52ea3faf0fb7d471c3764b652a7ca6accb44ea594b8fa6a1811034e29ca22d1c82ad1c558b0bc027386e372a19258f78e144efe54c06fd3995dde9278471cf29a7c99bb3b9a6a355b1d03f74eb2f142bf59d03a938b4b746ebc0e8777bf31fa3e8f80afe203911acdc4ee254bd7a668cb00313109ec5884d165b6a892461a3f144dec72b40cc2dadc1199148e156d2185e2fb49b52c1a303d4978797cb1c8dd129b02e991d4cacd2b89a9e5de53b63e142f67baf8e41a8c33566dd61f9771511d30bb8567f3e4c805655429a8a4a95bd609e1881effbfe8191b6ca6202e0e50a327d51570c0d1234b1040252b22a350e080ed35f7caaabd26b5b43190ab37b51aabc82a6524fdaedf27da3d81ac09106a5b7abe8621012fe980ae6d3bf37c455a5d728c88c25cb5de33a97f6e9c212b793f11bc6452b97753876e2b6014b20f82653e37cbaf41e038f42c3eeae1f2443b80bd1061b6cfb05e9811709878c7363a42d5c1874913ba0639a276807f9a4977c50fd61e5f6d672bafce9ec49b3ce9e8cb35b88c56e002d52c2d297b85365698ff5ff33034a2773e8647bf93977e64c29a568294236bba62f650abab19320a13cca5f3fd2bede1a1446b252cd8c8c21ad8629a8a6cf7217939d2f991e1a8c42bac24008a19433dc6548ffec4a4c661937453c999309a94ac5c7f477df17b9b15201da327ebc119129ab28e1193106c3282fd47927884cacdfd743ac67e0798d14a60fc3e7c146fb5a64d4564a349f30163c6f8ec7260b325326d11b52a2696818b7ac5e22c7e4daf41e38c11e47acd2fabe39ef5bce623841f4b80642ea17b528afb6aae7a7032e9bc5a224be50e18ce29b41f07410d9c3b1d4dd1ca951200fcad4053d964fe61dae4ec178e58cee18aa1f96cad5cc019d5bb90bf3e9a0311c84f5ea1dc888ffb1b5fcf98e3c0198c68e256aaa9afc9ff6b99b4fd429306b2cb4a241e4f764622d9e2ac4a60e5e7e70df68ce64b4eabe11d6774df8fdd2470df000189587cd02901da94bcf353b1b8333b632ff9c6661e0df4e3506c1f3d6d11c9f8ae50a1d765599cb6fd78a33000b15cba3856f7357817f359d555a1cf8cbd640e02749be968ccc28d37078042f93e44ae6a4d74202483d99f24d1136803fa740a7caee0c62d0557a1873247740075199566fc70e3202874b417310a48993a57f573b7c59f75f2e4db2642ab82fcd478e4c80d38e07387d3513ab47fc5e348f3f391f1949ecc6239132863d074527ca4eba7f4fc0261229d235ac3c5041c694b2971a14c418b51ed676f45b48f98a86f77dfd58847c159402bf21b89896aa2d58c97a45a1f68f1bdc50e3872846444b738ffe768153e75d8269a1df95d41e66609677e341614ddb80247ece1e84932470e7f9b66d1ee1811aa372c31a3afd51368c64705d62247983cb652d02d989e3721f3b6a9c6c7aa00e55d62363adf39e4c902406b77d5130466d113e06c869d352f90cd239ee865d7a49f1873eb3c3720ccfa42d314eba993b3d21f5c88f7bd5f2d9f2c138e8f7a4a07443d4be5adbcedcbaebecfb0c3a0e5cd620903751f4bbf37946421667e74b7e68d524e30ee05006b05e64898c8c6a7fc03b42308d73f5021386d2f80807a982ed9a40f9179c548aa9de103be1d1b772786cd8f9518758885d2a0b34741dba5adb36ae277acf337314c709dd5417d825808c3db48eecd8f1f0e2a925ba1a8ca803c4472d74d015bc3bf26f38a2d2b94a5ccb46d42493461caa6b6922f8dc65d04e6b12a3dad2770371939bcd2f9dfa42abd1ba9585c738a5d7eb7bfbc0f1e34cfdb2b4cc0f452e0e226e17d31878df1a15be9c472ee312a8e389e849512d12218bb0df2587ba5ef18d92bd358b997cfcfc6ba5dbede399a9d499ec723d4010bdac0ea28e9858400f69c42f2552682c2f4550756016d7f998fb9748220e395aeca82f71822adc9154ad3ffd2dc2d080974280bc359764da21a7c9172b67891761b10673010a668792fa5b550f2fbfdc5c046df9326d3302270031931d1a5075a9262c9d6427190975f2146507be4bd17007f6cae196114949aaf0fe8668e1cc3d69303cbe3fde17924ba95a2e0a7a7a794d31e0242178040ed30ec831ea3d58622a1cf223bac00ee2d01a17a25251952a7d8c3e63186817461eab1a25ad73dbe1f7509dc61d33ea1de0fb675ac2efed59708f01cda75eaf01f461dce560bd0cbcabf537710e7e95845b77b33d502af628adab745ac2f3c60e9f57b16af0f28cd8af7039d9a472321fee5ef14fc4164026ddca30950d4c28543b734c61f3bf45cad86326f3fd278cc3098e6d3d61335b19209fb8ac2c8c298c17e009ebdae97d714ac4cb732130e748f62e19374b50ef36acbf1050048b8125ebb0be11bf18c1a24582a4b9dec3d3810d9e54d2c7009f925df8fc6d0c96dea1582c0523086ff48433b2cb2aacaf2bfb2cfbeb3d8685fdca42308a80ef0803ed480e69f6db702536e04d0285ea6c13c6c91117601692d2c7a6a4b09b0e48a5ec5577d0a97f60dced8783f624350abd865923d16d7ff3b69c5b37c5328fe111fea67dcfe9cf7fe921ec7e3e10be01e1740574251edee4877d1520da714c0e40a1eae1e4d827d59b2fe47a0528e2cec83b17d6b1424adff8c184c0c1f6abc7602a302d6adba3d6adc280c5cae362e8716ed74d480893ad975e73df87c904b8110a728797102baf738acaf91a5ebe7e025aa8e9da3d15b93328c75212517a38a8a804c6225c0abf7c3132b14927ffc7544912d087844ddcad42e8edb54f4ee168b4fe4c4554bc3fee7e489ed4f19280b5ed55cc16e3898b8e831116dc3affa2e391e578aa14e92816b30348a8cdc124459355fd85f83bdfab29290ad64d8e1f1a8739f98b65669673fa8ab2f12e3c6801aab90dc9cedc06025179667429193140ed156b5c1dd3c324d4ed99bc2d352fcff628a5762d0687617d7bdd292eaf057b6c15bc495d72152b649d85413f699ad17620ed9f6d7f130c806ca5e65e288f43cc9d72a93584ddfd6ef609720c0821cec2a4adc8ce0cdb170148f0e0122bb77e792a13eaa9e054843540ecefd1d8f66c94133c5e77df599a6ee9e6aaca3e86c00a0457014b4db030f2783161ebf45634217d28a9c3a71eeb102a9aa503d5b74f5862101eacc3e3e31af059dd01f3a51e54d7e8e8f2af26d3a6053f49532406ddc1535677dedfafea07ae878fa6d735680817239f8caebec37f2cb94162213fdf36f74bf42c4c305f4753884b52f0b2aaf4551dd0a1e20e2bda4ea651bc203d7a0b144086d16ab555081e46b61578121ea67cdf37aba8d3c3abf5d248c5ca1760c1483c78dd8ea98ce3129a391d9378a26caf86d8fe3ad987ded3f99584ce807fa29af2ba397d6fc9c3b4befe685e105efa4e1ce31f607f7873b87873d36b1f66dad9da3960b5d2c9503d02490b49887d6212bf26dfe1122ec9c440fff680229883bbfb4bb6e02cd764f9ba9bfa43c69a39fe04fd3436dece500e8c13bd0a2658f7b02f3d08a58bc33b010c78c385098c58f734dbf65e778172b920650d269578c35c979f44fd248bad2c09877c94b2b84feb7de7070f9f9f4bdfbbbd05dd5d0d6bc77669c623819994ceacfb8fc5adb485f2d970895992a868847909b35fdc89df850f9c37182eaa5c40bbf39301a7f43d3686d47bc04e04d0b0439259223e324c76a025de6a8b8cd933a9f91b455e90bbd18c7dbc38e3352d0e11b1420c0f018179b42b13bdd0cb904bd97cd8083d3e40e638b8db8b49bc89869ebca9544ea2b91376f876e172a538f32aafa9fc6321a1034ca3075386db3dec3482515c6b3c56bf97f382d3bb96f83408a694ecf983dcabbcdb1b0ea97c271c8c19e132b66c247a28f34d353a636831fc18eed6f6539f58049d138ade8b31902f6a9b0ab8a8ce3f4873260a240f14206ad176c2c3e4a9bf50342538610876d813d1a265c475c6eb300bbd390f614f2157da73296aead079f98f17dcf2ca7a2d066ee1d5f93d113e295154cfd98a91a84768a0318ab65febf2689c42fa3b092e704255ae3990e52f2d61d12c5f1c3709704f34367a63949599c66ea4cbbfc8903eec6114c6c19df29fa2aaa5f44d58a513cc631fefd9a9856a1de3e7ac63a7d4f8d88422ee00f04f74d76effdf30845d953603da039246ea5ab338f86622ab78a221a699cf0f02a27477134920329862bdc4e68f48b842d21f5143bf2e8c501ecf35a54ce8646d64646d1efad95777f3d2093cc131fab662835ee9b9760e34f419c2363d5b6bcb296f097fc3ba5fccdbffe30cad9572a3b78834d72b7464f14c242d55ef42a3ebe61d734b4f3880b8bebb032c22839ad958b5e31ae9391b0181a1b6552e394edcb8ea1bed252550da6dcb2b8e214d89300dde0bef30279e2a788b99bb4d297263a2cdf0336ec20f3ca08c539790c84208d43bdb1946cfe4eb5319f2441070ce2205db490896a2a0bc7aab211531a55dfee30314eb6e04650abb2ba59b586112c67a05bc93a2dfc020702b713aab3e7bb2a717be5e814e59130956e9144a6424857599bd0d85f103a199773dc6fdacca13df6283a2618b6cbb5f91302bbbaeb4faaba957a93c82f247d7e3b6918443a1253c36edada51d9798af36ac7880af32d80b1abbeaad6a289967ecbf910bb7c6cac0a8aa669ac8bf7eb8756cc639671d9709bd62229a9c3da96e9e887e25658b8fbcd575eaa1ae6d5fd34246222c7dcd42f9049df1271ed6ca9cea534b1157331d94ea733f0ef4b12237618b8924f39381eb7164fe34650531cfac0269417893783879442da79d2f20214b8ac02a2d4d3d308a781b6aa3b2586cb1702625e7381195355e6643a32f9e343bac69ab68896c946c17ebac72c49b9f295db15209c995eaa0528a705eadc6632823b7d56f9df7a9d81b39140ef42b99efa925bbe62ffa0adeb9282821e5a33f6bdb86c342a84bceafb527d45dbf4b0c1877fcbb0f2a8b0acffe6d822a17eb7f9155902dfeb79d9b44ce4c53ab306b35ec09551cefadcf20bef2d3941a96a629fac6b8967dadafe3b479332f7d8e7168eccad8b23adeabc9d51e10988f322cc40447fcd71be41157633e790001dd8c628bbd01168259860058ce851fee2246c5886ef16c4450928cdf7466761eb4a48eb7f06e94b82dad3e11ca7e05bcd1e29ac373f5e3f7a5031c4909f2f5e668ade91ad7a76d883fe4da3e8a5fc5661fc101a32a54023802bd92aa0f924e9432dec36609957a488705701c87e0e5fcca27d94d8cd2948940f9066e02ef06e0c5c2cc4ecb2ea978eee35da130e9e1cab3b8981042a1320730e8aed40bbaaad577d09defeb9ae7d62447cc5b4f4012683b318ff5893cc3da730d2bedcce0232476378a83a474597c403e055f01bfefc10011cf3f938904edcffc61cc1f2e01e367538fc4e29d8174b529e6d6ab32a53982ceb80f7bf3ef3b9ac96edaf3417cd909c2acb7d9d36f001af2b0be424b575569d1645304038bb5b73c53b910d65e8f09e1f67e622d11898eca3d0aa78787a4b84dcf979dc0c590adfeaac003908d60f4894be32e12d16b13ac6807de1037a1fa3649349aa754b5ff79d0dad8f83e3efcc03b8a10d925885642149fd95adbc245a87a436ccaeec1e14096074f10d7233b310f862caaa691c0b5c13d3a3932f2834f17c80664ccef9b9448875fc721ad22d7ea7043b89c91266b6da37cdf618340a5c02c5a3de6d42f9a08cbf9e9a15b2268f34e6ed4d2a7a2b164265da2b3eb2e8411e1af96086fe42bd0e86f94720e65dbd124e85b324010560be06e459f8cd8089856fda0acfcebbf2fe3c00940fd6cf800096e6c39d73ab9d274f18baf8b1e2343833a4143902ce5ba86ca4f2034caca1e7af6887915bd0f0c2358fd3655445303f75ea8751eafa4aa8bf8ef7c7b087d4cd54687f6cd22f52a9f48fdb7afee7e0c912d07cf554cf1b63a5bd23e5081df5fc7c1960effa53429ba045dbce0b750daeae64d0d70c55b49edf12d2ee9a1d5890761c9e32aadafe806bc27ef24d46477b52360907b50558de43fe1fa17c0de1767c6ef901bccb2f02d62b0aaa81d3f12afa4e407550addaf0146a2d84f96c0bb82e52ac360983a3a2ea65015ea698e912565f0caed3fea8614ea34c659a7eef98c2a35700cc6741c1d8c34f0ff8bb829835b5dfdc4c5df63b96352e5b724efee2a11b449ee42a746514be4b1a3ced6a2b52877e079c88edf10b025aa5b7a7a89d0925c1c6b5de578bc4dd2b17c042aa6d5e25cfb9472a61c3ebf4b548deb8b543363555bd7e5b214a50bf69d932eb34a17b6306c874ea8bca54b421cf244f109ff369c9a52a36a7059fe378ee9bf1031b2761aeca2ce047e7ab65b8a1dfa7d03c96d1cfd35b7bfb8eff6a63cf00b303e33238be2b487759064321c76323f8879c61cf3bd964e37b83f996298a21adbf437f0d9521eae36a9f9bba3252a30b9e8ebcd831be4e5916e24f280b46673fcf323fdb6462c5d0dc52418e8cf4aae2f5b6dfd9fadfdd39892e08c24f8489196eb45d14044ee46e82b635cb05f383b8a733cd3d0f89aae92f01d2d763faf1d9d33ebe0ea948448bb16536b8671420071190200178c370ef1bc9f32adfaba8ef08502f139c29138b49f1d2afd4b8dee215b6e680c2eae27e70a2ba2609e3ed45d2e40c4f88ac0d8fceecc1ec01e32af9f973ef9db270524278871bc200d21fcccee9d1758f504ac9d532c9be3b9a431568fa1ccf9bb4aff6c471ac3e7e6d777efcdb8bccd903bb4551b24f572aaa6ca52f65e6ee2831b7e2b371763d5367131761839f9cf6405c1c89f463918b6234fdcc3118205e5e5500cc4b67fe3e907010cd15835274d2f5ce7dd7cdb5ddb674c1c952659c4718389a51d4c3be6efc489327560744ff83962856e5de97f8a9231493638890dc89590286904ee74371e0665792c28c50b346c26f928e1cfe92209e295c50052bf36e6b55c483fd553a09ea89ed6f4b2e994e5b08558f0fc8560016a03fb8bbf11f7258e5a960ccbe281ffbe0a69c2aa1f76c586635d1e65196800776eaee50f5b2da15588c22588122e6c2329de9ae5be55f7f1a2841b27db7870eeecada31015dbe42b84ae8292ef71810f50e4216bebb2087ec242a1175bbffbadddcffdea6736cad5a3258665ccc38f7852cab969148c50f0772a15c6777d55f2542390dba2aef28e873b6f69a651805a98668b86d6a70750affbbfcb80f9dbe877a23cbc819d09232d0718def7c77258c23280872e6f7149912274ae7b1c1e89a7d63883d39d917694a22ee033e730587fe75e33da6421290169e10df0db2e90e8b9c3cc48b81e9bbe3fe1ec57bf5fc8cf6c2c1265c2e32d4f611315de6e315c5cb904a7d3388348fe0c034c0560d5f76b7003e71546bdfc1698774e590ead332168882c2ddfd3dafde96479db73f4f25b429376004bcf8a613544e93da6da58c677ac8972d3f98bdc2f021fb617f4793bb478ff577cbd8a69505adfa6ac050d542bd47093751d12fe065d32e852a833dc8e8c4e66b3c47b224de9666278e4773eecd0c145992d9bdd8811065a99556ccd809aa6b5d7271f3c2ff1100368229d0543720ee5255919fbdc8eeb7c4bdd567a913a72473b9c3007249aa10bb9d22d1394c3429ca30fa38f3f2328c61d475e262df8fd3e0971ac05ccc46c8ba9f69e9d0c048fba71f10be0683394e2cbf7efcc997263465127882512bcde96a8c9e66a0e320825c20e5280a69e120bb24f5dd48ab82d2cb5d5fe48a053ea96089baf48a291ea4a1daa0dd5d1203a0c700e979aa6cb4739266b4ac2c79003986d7f67874728494249eeb34d56bbcb3b96a4c5f4a6442d5c60b9575e70ba77305243c9fdf553b71675facfd2a71c1442449410080d1887e01b593ad1412bd0e2aad3bd72021af040f1176ccd3d4a6d7f606da607388fed2c30e265b09d4447e3d18cd5bc9125770689881801851c448ee69e10602e737b7c0a191d368878b3fc86fdd64ed90112d1ffe200b10d864a38d1aa9ca6d42040ca5d77a3b8f40e3fba31cbfd02eef625418a92bd0a6edb5c53706b401dfb71dace4b3605b97c1ad5f1b2715a615dcb4af946417a4bbde1c04d023fafb5346a4045785e3deab22ed809813294ede2a5cb75b857bcf0e3d7bd61f935b08e4551969c94d1a59aa79d2fc9c516c8c43ef19a3422c2240ca12186f6cb3ebe39afc0fffdc4b0996d12bd09951524a11cef5c2af0c3ba609ca88c73731c7601808134a87d27c4722c22813e76b76cf3787e3aa09b7a81836b6edde2da65b7820788e2d9858a0ff368bf2986ba1be073a7ad0843a2caa43c81428461a722e0e3dc030e2b6969a6addbc3fc0f6b2fa03a2f3d1eb307ea7f4dfa550a7d35df9f2c21d7dd4fc2b6c2461f7b57b9b6c36a1760ae39e1d34728c0d6245df272335f7fd8d8133fc4c2e72324ee5326f2e71a8e1edb8cf3d85db52234bae30cf6231e32c4d8b67a08df34c8c74ac6634af76c53d725f1557fcfcbd285f566c61ed8805888def14679da6c0790e268c1e27ff8bc26b0fc9bfc9ab652b74840d04be49604499f0920d6a1b9736a7bebc543ebf7df5c081029860d73f5ecbe2c84f640e03e6962cedd8ee93248c911cc1b153e5f4d8aeac9878b9dbfa3b5d7f45424a7b05b83a23b9869c8f18c89d389752cd86869e7d589bd07a5a83fbff2c151e488f847a7c02e0c531036e9cd23a8dd3699da3ba274678de3b8fe1b876062c55d19dcff200d33d62c3e9bfc5cc8b2c4a8640eb673b99edff518ef9799c8d1429f5dc74b9c5eccb9db37f3f5dc8c794b9c133fafba451bc7ff8a09d8dc797c82384fb8cbfbd4b6f9dd7d23c2be125b75327a83e449c809a82dae62b0f65f73fb2db3749d5e0e904ed82eb3bffb1c3e98c305d4a52933ab4c0bcf89907897155a1f5406f456a0caca343be2153d4d34539ddbc1257ca143e59b435880cb85e48cfb9848e07fa60db802aeeef27b99e3b87857ff8b97764e11c3c1795c3706b9206d291180f9c5dc2835b53072316feced7431c0b34c892f1a0609895802d7111d3fb256dae2e482c8a0b93cf6e49841773c34c43cd417eec9019a5815bab30740a1249b376baabd2ef13887ed2e32c08fcbbf59957e0bd1622e35e862d6794e5c23721555c103798914716f2c3226f437b8c10c74485b16a7b1de2487092d3a9e36f21c8dea68b69955f5917a96f3eae303d605b765c1c553b1c1f05a0c10588db2e5bcac7e4b75440a2669e6feb38361c0140a306e5d230e0664085697f16b246fb4174ef6c1e72136b1a7bda6c8e0bf782e1f562a5686884b2575e2bcfb3ed2ff5cce2311b5e732e57ce0b0affa36536c1ed445a88dfc81a629c86ddfc7bb8d80d462876cd407888e7e474a52a3769879c2d5436b55e345d200f69e691b87bf0da4250450c8527b7f36abd9d0d6667740b50595e1cc3d421e6c5e9a5265865da2705d2f8dd982659f5214b70be53040537a76cbe281450a656d63e4e3d17579081e603a26b294582fafa73f3af43ef36a4d5480a09027da679cddd41dd40a791ee79204052bf80b7b3e250d2f8ba44aac6a42559377400b06d4b028e28025be1a982a7cd5901a12aeea5b631ee9d65268994bdc531fe14754f18147b41c511379f21d3141501177f26c9b5666a2260565d164077c063e75ebb1c1b2d0cc88e03c74a6a1bb6571231ba5f59899daaac7f1cc6fa423d0adc6f26a8883add957b53a3d8af46494283aa26eb6f3c9648148563614f84dbb78b680fbc759dfb79eaad5b8213b2a75165a8740efd688ca26068096aef21d43edcfda26b35042a78e387c3f8b9d9c9c1ee5555e66d632d5409baaf1dc662ece35ed7e2123272aff96044be27285728f372910af7a7a328463c8d7e16390a5aabc01bca38909e8acbc981232da3f2d618568e94c272cbf704c5b95c50ca4c5aabda2b1f9b7c62dec9dde673fa634776345a70cb601604c89bbf5c70b3141ed6f2b320e55e9b6051ac230d3a3e3bbce3bcac532d3ab88c9bf9147a97a3f2ef4e2147a6bc3ed044e9b56be4ac9a3444120e75d12a2b932941eaf42d132cb5935d0ef5feda2500ab39db7742423caf3ccb884cfa3cc2aacd5422686742e83dafe43c546894173807274648aaef886d67b5106443338009bffbb426310ca0389c8f07c417ffffcefbde1545e10063920a3f8ebbd05212fef961873dba2ac9649f6089699ae2ec585853b6f4d086053d20de4932ded9f672ef227ab285e19dc657e91ea1f7fe7b621edf508787f84dd549c89330e198b0d5fefaa02ef49b1eb15853c3fc83daca2465a1667e89519e10b0ad6cd99beb409d4e8ce099dd68dd7e0593da1e2202c98d2031909841083d9daa8473862f582842caf794d16d4d0b68f7a6ccf7e86124c77f6160d18d0b0f69742171a3d57b0d8f21d05702fcb7c5606145de9976e7af2f3fc62927051bffea47291a44fdfc883203a065a91a6ed474781975b3e9bee2fc336a285f84c22e3d11f068ed24de832e276c584aaeff8277d52747d4355d48869d176ae76e26d81e4f73c7b1ac99c7faf9647045cda16412acb60064593361d3029f346eaaebefc6c3b3d3d1c7cd00dd991b258d4887bea72aa610b4413932ac056723d93189ca9c54940cfde276ab32552d506e97e9f8e69d67771179cb86008d5b731e39be1914840a94a4b1871d55894024b88f3572635d5a7c2055358810a319e4b0a45ec06b0c54c12c0113b273efc82edca1a64aa83a173ed1b0b512b21b950188c7c6f76cb66bedeedb7ee20a35bb45c895ac734dee1d330939cb1310733db761f0043ba6b85d6f1de0d78979e38a9d91c78c497ca4e777eed2c5e3e2213ef87d0351c91a45fb58d658c5d112ff0cabf7b41783fafa050775dc13b0a77f578dee527fbe159477bff92f4fbaea5f5de99625d4643446dc91b54ba68655e75291e64117961dc7093fbf67e733a1ab38ec2654f868b0444f7192cfb75966c66245ed70f08deab71d4b2e61b1bc51cf678e2629d16224084187c40fcbb44156d243f45786512c77240b98f9a5466ef27710fae45d3aacf1a280e74e6df009453c84a434fcc486ade2d1fb372ed5dbc96683239a8c3956597f7f1f9f6e3040d2098459f36c1da1a64d8f9f28b954347b7297bfef67","isRememberEnabled":true,"rememberDurationInDays":7,"staticryptSaltUniqueVariableName":"e108eb465047f7873ebe9172fe8af503"};

        const templateConfig = {
            rememberExpirationKey: "staticrypt_expiration",
            rememberPassphraseKey: "staticrypt_passphrase",
            replaceHtmlCallback: null,
            clearLocalStorageCallback: null,
        };

        const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

        window.onload = async function () {
            const { isSuccessful } = await staticrypt.handleDecryptOnLoad();
            if (!isSuccessful) {
                document.getElementById("staticrypt_loading").classList.add("hidden");
                document.getElementById("staticrypt_content").classList.remove("hidden");
                document.getElementById("staticrypt-password").focus();
                if (isRememberEnabled) {
                    document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                }
            }
        };

        // Toggle password visibility
        const toggleBtn = document.querySelector(".toggle-password");
        const eyeClosed = toggleBtn.querySelector(".eye-closed");
        const eyeOpen = toggleBtn.querySelector(".eye-open");

        toggleBtn.addEventListener("click", function () {
            const input = document.getElementById("staticrypt-password");
            if (input.type === "password") {
                input.type = "text";
                eyeClosed.classList.add("hidden");
                eyeOpen.classList.remove("hidden");
            } else {
                input.type = "password";
                eyeClosed.classList.remove("hidden");
                eyeOpen.classList.add("hidden");
            }
        });

        // Handle form submission
        document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
            e.preventDefault();
            const password = document.getElementById("staticrypt-password").value,
                isRememberChecked = document.getElementById("staticrypt-remember").checked;
            const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);
            if (!isSuccessful) {
                alert(templateError);
            }
        });
    </script>
</body>
</html>
