<!DOCTYPE html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8" />
    <title>请输入密码</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="pragma" content="no-cache" />
    <style>
        :root {
            --bg: #f8fafc;
            --card-bg: #ffffff;
            --text: #1e293b;
            --text-secondary: #64748b;
            --border: #e2e8f0;
            --input-bg: #f1f5f9;
            --primary: #3b82f6;
            --primary-hover: #2563eb;
            --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #0f172a;
                --card-bg: #1e293b;
                --text: #f1f5f9;
                --text-secondary: #94a3b8;
                --border: #334155;
                --input-bg: #334155;
                --primary: #60a5fa;
                --primary-hover: #3b82f6;
                --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3);
                --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3);
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            transition: background 0.3s ease;
        }

        .container {
            width: 100%;
            max-width: 380px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 40px 32px;
            box-shadow: var(--shadow-lg);
            text-align: center;
        }

        .icon {
            width: 64px;
            height: 64px;
            margin: 0 auto 24px;
            background: linear-gradient(135deg, var(--primary), #8b5cf6);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon svg {
            width: 32px;
            height: 32px;
            fill: white;
        }

        .title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text);
        }

        .instructions {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 32px;
            line-height: 1.5;
        }

        .input-group {
            position: relative;
            margin-bottom: 16px;
        }

        .input-group input {
            width: 100%;
            padding: 14px 48px 14px 16px;
            font-size: 1rem;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: var(--input-bg);
            color: var(--text);
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .input-group input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
        }

        .input-group input::placeholder {
            color: var(--text-secondary);
        }

        .toggle-password {
            position: absolute;
            right: 14px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
            opacity: 0.5;
            transition: opacity 0.2s;
        }

        .toggle-password:hover {
            opacity: 0.8;
        }

        .toggle-password svg {
            width: 20px;
            height: 20px;
            fill: var(--text-secondary);
        }

        .remember-group {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 24px;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .remember-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary);
            cursor: pointer;
        }

        .submit-btn {
            width: 100%;
            padding: 14px 24px;
            font-size: 1rem;
            font-weight: 600;
            color: white;
            background: linear-gradient(135deg, var(--primary), #8b5cf6);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .submit-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .spinner-container {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .hidden {
            display: none !important;
        }

        .footer {
            text-align: center;
            margin-top: 24px;
            font-size: 0.75rem;
            color: var(--text-secondary);
            opacity: 0.6;
        }
    </style>
</head>
<body>
    <div id="staticrypt_loading" class="spinner-container">
        <div class="spinner"></div>
    </div>

    <div id="staticrypt_content" class="container hidden">
        <div class="card">
            <div class="icon">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 1C8.676 1 6 3.676 6 7v2H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V11a2 2 0 00-2-2h-2V7c0-3.324-2.676-6-6-6zm0 2c2.276 0 4 1.724 4 4v2H8V7c0-2.276 1.724-4 4-4zm0 10a2 2 0 011 3.732V19a1 1 0 01-2 0v-2.268A2 2 0 0112 13z"/>
                </svg>
            </div>
            <h1 class="title">请输入密码</h1>
            <p class="instructions">此内容已加密保护，请输入访问密码</p>

            <form id="staticrypt-form" action="#" method="post">
                <div class="input-group">
                    <input
                        id="staticrypt-password"
                        type="password"
                        name="password"
                        placeholder="请输入密码"
                        autocomplete="current-password"
                        autofocus
                    />
                    <button type="button" class="toggle-password" aria-label="Show password">
                        <svg class="eye-closed" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                        </svg>
                        <svg class="eye-open hidden" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/>
                        </svg>
                    </button>
                </div>

                <label id="staticrypt-remember-label" class="remember-group hidden">
                    <input id="staticrypt-remember" type="checkbox" name="remember" />
                    <span>记住密码 7 天</span>
                </label>

                <button type="submit" class="submit-btn">解锁访问</button>
            </form>
        </div>
        <div class="footer">Powered by StatiCrypt</div>
    </div>

    <script>
        const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        const templateError = "密码错误，请重试",
            isRememberEnabled = true,
            staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"dd9dbbd2ba442126dbcb52254293b08eb3eb446fd86b75082b58430bfa611835f61bfd6f64a97952716bf974ba4e03620621da5a20aaa76aa9b3d15bf00adc70ec686809ff06c3031af28a0053f8c9e407b80da2d2d8cd1508ed6507dce233113e9774ee59b75739e6b02eeda8a11261d4963ed8fd6db955a80099abc2925a17d5112f6c05071aa6f44639859f7e68eb858085bcef2193bdc4680f51638c0618f19103d918131af5ce1b6471582ef6d741a7b5e8c12841fc934149ff472cb075d5f1b7b945c4ce5c7fc18b565b8a0448b7180b10a3a1ac943700411b9f1e48f08b50d74ee4cbe71accf57bbd72b3f3ff4a7c3438d62fe2df348ece4b7bafd2f7137f12c88e6b7e5f362934f423a10e6dbfd2135400a8551924a1f0faff1da81ae6d7a55c34a9d93b7bb73caece3f1ceb4b1244b47ed039e3e8def9a28d6b4ac15040a93b2c696254f7ad22c0cb3700c219dcc83afadbf46e0f1fce970163b0fc0503a5512d5a9fb68131eda35811da4c0c951aca7b0ad8ef0f23066bd744f70cc8b805487219cb97183523f8182da6b66051b3ab6c148e006c0a4d22b480aa6614dd2acffb8bd69c0af2c20b3deda47de88bab5f056f843bdcbd31ee05881906d51bd17b4611c752eb963e15ddde04ee5ee55b26914cd5d6c2f64faf9d66975f8fed2e1fe8d314cc6973d7f7ce7330ef9eeaf57efb5049f79ef89b54b6311d410a74a7cedd16b59a82ce7e071efa606d5dbbd3674339b0b23249527820e523a64939001abbad9b3643f90451835b064a9eb226e840ebd6d73b16a662d8e32505c176883c26595f07211c60f3d21f47d0f060651df9df4876efd6ec0e0496863b5f4da2cb5e1b6606b36fb3a4998e0362424786e29cbbcc53220d9e3f8570fc9dce9a4c9dac13ec6d744eb0ac052637160dd4bba817e4efa28eca0f13386731d350a0539f0afa4d10270156279cc9cc56f519c2f9dc92ccecff94568cdac68f60aa50bca4c88ea2651f8986c79de8ba7fa7900cf06990ff229a6ddc47d49138c19ba3366e0695b3e75dbe9854c8ac200a04e913fa8c95f3e7c7efbe66cb63df610284da481635f178780ead0b6ca083dab9aef10711ca3d52e1bfecff0151cfe2851726e73cb370ebb599c8e7d641b6e42ef9b09b1a695c68279eb10cae9ed7dfd75138bc718f16f1fcfcd4a015ee0e714c806c94c7c068de973094d1a9d6dc294e65acdbf5eea64da1c5970fb22e74d652c60e28aa5f004ac49f9a0e8e0a4d29a747298fa8128a7f26c3d62b3c61a7b866422b6d45f13dcb898ee52b65f967ffaca404097faaabcc8be9e9318f2f0d7fa3302cf5cfbbfeba4f503b78cf8f3d2999554c8117d7330e8f80259d44a099d7d3e62cc06a3667dbab31026b47eb2917564aae6e05559bfa648defe4b29e627ebbd67c40d6d2ce843ccf592745a7ab08d9e9dc173e342616678458f7723c364fe3e3ad205710c2ce0efe8136f554fc5bef16c02521e22f3e3b9e1c572d541ebf2d5c61c8c6d0b9a6bb93216753a9b79fb95b747165ca3d1dfdde03e1f09449364d694945277b9c34bded6b19b51af29b0d36be6cc6c401899ce666b3f3af1e371f57779fdee5bbcc5d9759f4c882841d59e414bf82eef7c95df3c5db5f46726fb579e6b6214518ac3d9200b1ea5d2f86eca1ee31b0a0fce1f2acf9a91fb32965d3fc8422ed4dab82ee9819d5cebcfb0c98c1ff06d09c369cb86b8ae9f6c4c43f3d096d1f469e5f4eb31751cc000424dfa28a535ab1ef83e8da4a7670bbeda9d23a53e3cabfbb477ae9932c600ef560e9eb134184b4ae08bbead917908e48e802cfaead53c85b51330f6d488cdee0d6e7b28b364b774004ef14523d451e72010b84dcaeb2fac7137abb7705782e68b8b82fc3acf5a2dee69ecca90c29d340cc41add6e54e1d608d74e9ce4a5061b952dcf4d2dcc6cc34eff1390a6d5b33d8f53eebd0835da20fb1deec4897222671915851599f975823836a3de9a56f4956140489fc398c84180d9f27e1bf2fb15359722e3d97b5099dfb90b4255a795f0fdb59790c30ef1624c7157a0b980ac5001f11cff46001c03870b2e3d6dfc3262f6a91caa6ccf5dc534240c604299d320f5779273f60994d1f11eeb5f4da5aacd7fb3f0803ca7ad39add53ea7e5f326bd163894b2a92df15f364c324178d384ddf302c98e97980e9b6e315f724ea799778d363f10ee9723694953ab6292f832042f9dc68c47c299cd0cf21aea2fd34d7817f68f01e4a77a01806054d3f4ea6d50b3aaaee69991975e581dbdd56d6b881820a58408f1d685f88eb5e4da8ce139b0a00a029f9a7713bf4fec5ad2dfea81ca07017f159f33488a02ee8a2c21a6fe0040a0174a242934d2ebb157f81a6f6ae4b65aca1d7b9541703cfb5e1966423f024100cd8e581ff3cc9eb7fc4fcb391c533dff26816060a8bb6c04c70cca19148475a89cc0add904e524991ceb280aea704796a2cd26c73234eff26ac8cd91abdfc6c5d76173e9353f28382c204b763533bb468a19f1eac0bec2748c679022e51e7f18802b7b33353a53d1ca53ef23e16567e6938d5642d472c4f37f292e519f8f880feeca91b8b138c84fd9cb7bb85cb475fce87ad9a9b275b58267455a6cafd70f44e72cd8644dc0ad2a75ddaeb4576cb92002d0b3e3d5a993af6dd519f2a2fda89f082d6a6c5a760259dc885f37654dfccb945ed06b645ae26c320064fe262b6d3095e5eb32a8493d940eb6ad576ab480a3aeee69b2ae85f0c0bb0ae77532cd15d5f69362b29855e9d8e40031812d13f9890b3d52c39650c03575eeb7e4eb182f56e226652068e9091e2092a0f5b876bcdd0177e68d6782f0fa2496558dd1c60df25f338252ce8953e9690d3e23cf00942e3151b95e1fbc7f284111ebd0ce43414041d77ab5ff42aa627da79c467eefc72008925f198a21ea9dfd8ceeb5566a2d33cd03f64a47359cb5389dcd38e27f512699457e64ffce324bffcd0c9b9bfb59396b85ebcabbf092c862ad9906acf42efb35bd2c89f86d703ce8ee3ba6b876d94a5a122b8f1e23fd6fc7d9afae84f3c01d3323eb1538c71c71179b7f0b6b72835823df52169a9ff34d6825303ee23847d1a07a9d1c81ced93c18085b81319778ba5d1fedce01d1ed9a0525eb4ae1aeab8d8e78d06a09cde02bd74e4399f7f1cd2e44a14cbc381da78e2eefdc0c4689c404a275f1b1c4f8af8627280fca7a804722b1ed181975937f385374c03593633b4706f7200e017bd02defed65dad13df2fda74f694cd4f41feb997938f5686cc47350b941f5a4339fca33a2ee6b089065dabb25ef620cdd1c28990dfb165be089d5aae18fe0b294d5772d463a8de4fdbd7b91b7c673ce4f0bcd4036d422fa98b676829d5727011aa05f695715068327525512464501d70799489abd8d119e713fd07c7c93676bfe13ff887e03bae055dff2c1ea2e4a8128f8c5bde0244d7c442fb638f5e91094e994ca734a5ddfdd389dd143e426c8bf60b50fef65464c6f7f30b169e1c42e081997ec0b9374ac69971e0ae0623c2e07b9d3c41043f1a7fd000a995afcbec52bac7ab6fdae646f439102f94b7294421d91103464d3090284937fd2bdb686d7c067a36e3edc9c20e33913b2feb86c641045e7f7629b29bbf6ef6733982db0ef00d6131d99f13d3a201b1d9838adbf82083942a094ac42449a54a5d7ad5ebef7c2d7265602e88593e881f8f756f3e88dbcc7b6e9a13e90aa269f3138c51fb2ccf3cc24f9cdc3474a0761dd5ecbe874df262b3a3215664d433823424cff701076b8822193a8df9cd8788834efad9f7610ab37e5d42c0ba27bc401b2dcd2e8548a60386e3faa3b6c2ab9a7af30b1f6ca55eb56c74ae98c094fcba735e248bc31f4eba14832c7306660eddc80d06eb9127ebe4ca5ab8617bc1fe76cfeaadf6e62868c0fdf806be86839ba55df6374b3add7c786581cd9d9a4e95cf5dd324e89a62f4b539492c3605024c1e525a82f0bac28c70ede0d6599ec8a3221d28745e9a8ba11e0492cfac68a6045a1aecc1b930ba6b14e55a46c92a993637063d2975b03047eebf58f5b0ff12e0537f5fa7eb57da9e3a1049e26a828192c2c9ef8d663b55744974849e88232830a0c2e88946d22f38c5755fa98cc36a5a92e5f27dd4e00d821a381a3e2b26794853920744bb26d3f371589a01c811d9da31bb2bad5c6407b13a9e05922462cd73eea00b47a46b7537eeca25cfc3b64c57e2e4d92b02c4fad6f4ec1eac1d02661d071f9c93611b396c6f54cfe1ef00ea0a8c0bd43accab605a8bf8a2c9821b3c42653835b8557bfdf0aae09883199aa57bd19ed4b830c51ddd41498665f76a10c3c0135a2f02e5529f63cb97285bb5ee7d64115613a95b6113b926761dbb9c15484597084b89922d53fe67eb5b2b9f04aea5b65bbf9c8965b342082bf2a49b3304eea84ecd9a3031bfc96c676bd84f648f85e886dea3d0687b8536c46661fc060c2d31aea28796d2875d6fc9e25bfe79bc55fb572a0dd69317afd18e7a8b1bb44948a164a5ea639b6759940f3226ac6b783b6565bc76808f6930e122f7c8376005f42e5df136a393d1fb226bd5731e7e1e2a56d5c38046975d45346ace92c20d1a0aacc03d2d68d673f5a1f98957ea14be3fcee1104b4f4b58f6bd85f41ad171510e301ca40abfcdc5785a43af127176f3ed4ae16708b0783e19a68814d38200ddc22e2b04db2a2ef8af1223337b44c919e5197efaa5cf063a68918a3f4bab33ca7c6ac460d5130f7ee270856519afa2268fcd07dd922895c2afb42b6f44bbf4b9af71f9d8be1243132fdc8c130cdc047a0781e6e1482878fcebfa6b221be72dd57965ef068b8ec68d8f9d0a9d8104b922e6dd093e2f3a1659dc6a8bb4acbac82fa987481cd1716b0fc5a9837d8fda5e9360859040f8ec511cafee2f8cb7d87eaf1a2c12c05597aba3881a7b16add7f525013caf078ea385804e7643d500dc056ba423abff3b7edfa3d1ed408467337d248da4edc1cd8c05d15f66066d15679cdadb4d6a9aae27515cf388c2b668e1dafd7fd675feaf04f1757bc26c56f348eda2e3f2f3af3a0e546373ea237d835245cff90f89fc010f3c720e20123a5c6051fb31be86c864717316b073a4cb699efa88ef70fb5ce721f7604d4ebace0a2f31f6c9a8dabc89b82daa5d5f0a365f6957e47a0b00441c76f7588cc668fd2005e2ecf040d1267c2f0db404a8bdffc8398d6a8c743f70eb80b61d4a7353d74e8b96597b894668644d19f544f217a9b7f7d2d06ec704547a3d46db46efda7e6408585f1fe2885e470e3d06eeb020e29317b95ba9930b507f5d0d62f2bd545fa4bd5b2ce325aa76c07d0b3f4f1d0642a305e78a1237164568dba173922f082860752c9c667a548287239b4fe97b552f1d9c34ea3bc8b57aa0f54186b1c53b55bbf702f91d4be6e62dcfcf3dd0a4b51da4515db7ec67812ea375b6997dd2050d2ad6f498ebddd1bdf0759cecc5ae6feb403a22af9d4ae8d719970a830cb54223fa9b3972c2b9f53298f7cb41fa2d1cf53471ca6688ed651c317f7aa0dffe68127c583e7152e88a25c4c9660d531b5dd3e123f7f109833b9f00f86f838b69d6ab6373cb8dbeded3e3d7bb0a971eb1d7bc875e1a1dad346f8d8abe3321e17ccd5974167e86cbd3c2910c7c3e5085e8b8f24aa4a35e63f9c3c2883b98658c37b081a7950a0fc68c2a105ac98b4d92818a5f4cb24c75f0fcce629e568b02cd8392aa5a6a0c042d2efed32f7fb6e0ba065a5c843e34ba077f653c72f524e6f2ff3fb28b9e12d21c02237597ed1b84ce9f8a7537e799e2337901b2dd51a731e7dc0f02429cbb4086d14cda48bd94a939468a7f7c62fbe83f178d90a2585780a823ce7264b40a409a21cc026a9f275aff4d6b633e317dffed54b9b6ed1b657352959b4dd2267eedb3def4a9b6d0d8f1697b5281bf1173aa8418cd3ebd438f7a0c17efbb3ecabbd2e8ba49ecf0ec9f37494dfadcb0600eff4eb5e1852366e0181ca6ab119fb6562934d0d8433d8bba450b3d4ac796d45b59940e37c4ae63ba729f4ee1ed32c2df0007043efa39d14a61aaa371f5e58a2c69d5225ef9731620d3568750f9efa659dcd5648a2ff3e28007c40d343068eee4eb92dbf87def6ed2ed90e8d07a096feb694f41c3b2bb81b924b54c5a53c061fbd611e958c84103fd342d962d95069fbb0ea7ea6620c7896cf19d0cf35dd5d0f038ecf722bdb8fbfe753c5766b1dc66e5f00db60abccc79571ee982606b5a5abe73946be90edc538bdd6669753c370d5ccff4500febb11c9a4582593e557a562ca63a9269a77d5ff078724bce93cecee059b4513526d04e8cf6306bb3633a7355ba5731c5c0b02dbdee3b9926b3894959e8b197caa81ca3c777bab1126864eb6b90c283b790c95c18b5ee5cb12294b4b3967510ec43ace7e7e324474e48e56572bff8ec2963319ac8942879c25e83ee101f704bfad360c3334a9b406de8870afa8c23793b9137de7fb47808ff3afabc89bc33d93d9a5bcf919111ce0bc61ab209fb42b1c33b6924cd72ef704107e389accdbdf8ed354b4040dee1fd576148ed87dd2b5dbc2a45ce2ff0eedfcf289078ea429a08292a1eb1f2ff4b33c8fd4f55b7445a7326c5b35220e78cd718a7ac7154970eeec5e69e18567a762232c517ccc5fdb7ff8585ef120399e817350b27a8eb98f8249db8e43ac5cbef0656dfd8954fbf70bff86de133720c9663f40cb045b585b29212b8777b7225b14eea043eaec5e7b208127895085249f5d84b4389a9c371b7f4b68021ed687900e82fd759a39f1ff7375fa6296328195b857bcb8f03d64d8b0248b2e8f34b3e8c3a34d07469f2b97bf0b91baca03532363b52ad1c8ffc24f43b8fd890081f1678b425b9417cc3d00ebf756389448662e457959f729d14b0095d7cd0cb16bbf2bcc88a03f8bfb6bde02b7837cf4c867cf6d784baa4eedb3e6f644bb7551aa1259dd6a3c6aec0f72051827c43b40a7e9521e7892fc2c24c7da0669106f47022e320185df3ee83ddd4394ece1fa0b32fd6368705f56b357eb4aa484ef22cffcabce2da67d5d2c7ea17bac8d3da16bf87b4abe6c12e56475104a2e97427210834a1dae89ba653b5e4ee10e142c459af1dcb062f089c4dd4b9a715f656c05f302d37086dbf16cc289cb0fee2245571116485f39a990ad89ebfae704d4d0f6b467004b3564021fea6a01988ec732be2584775b36ede778311a1b4484110823655b38f29015128b7576daaea000b300e9260c5bdd58a0cc365bc1413dcc3fc5b64b105fc855a20eacfe8321ccd7307aeb24e3e514aee201c031df68925107dfd638edc3ad6bbf8286c38285cb7089188907424e04ef17d6a341c2dad190a689a7ae915acc89d35be9d627b1a1946e7eadab4fca4a1cfb41b102b7b59a7bd3c45ba679a80e4230454c9ead6e24627648e2e3d6d4070d02d98038df964431922ce8930482d2fea64c7d8b2da188ae788e85ec17efbc201ae617e8a0fc5d24575c5a319bc6fcf5e736a95f3687b8d46ef495d9c4e09d47f4f1b6cdcc78834b935c9c94c5e339763bf80d962dd0a9a9ec0fc920224f6bec5a6b00e14e5cf6cade4cd9108a3c011d5059ae1b98282d9ca56919c837ee7b99a6dd18b8d264afa508bfedf42bd29b309fcf6d2c7cbed504dbaceb03fe6c5dc3f6e45a1a0234ddefe2f75695def5a78ba17ca6d8657b4198a53c31a611540a4c96231a72eb47ab886f71a69a39ef59dac8987e3122c0a87b83411885aef599b8a7d7fade50257db5149921c7951d36cf714290e1279a5bc1a240a40a04cb0fbf821321dfb2d5ba2bc8ac70e6420c442d7d9ffdc78fe54d4adf2d2c4f513af15a73a67ca2668d6836ff89cdf253762046dd2575a32b9c6215c6e17569117ea29bb314ede5414dd559f654060c994222e99628ff2ee9e8d9dabc1013e1b338afcbcf3ee3e75fe5154ed010dd8ce584f83732d8a53804030e614d03006b8be2ad76bb604c6d065f47c2cc58657f5494f3b064b8df95b4b47ac4260f52499180cad22788411426e73ccf6727e2600c92d190bbafb53fbac602b4dc8fd25a193cffa2d335c017f5280af6e9f55e743b47acb0b5b015ab48dd04ce703ce3e878a395a0bb18253a0ec5e9b859bbbd31c4d1a322abd8d4d1832ca0b52e163d5caf6c7c7aa42d508af06f0814350b081d3eebab22357cb16afa2d8880f42ae47ac3e9ce40da4ea5fabadd3ccee0cf59a11e952d66501e7ed26269ecd82c9d3225b985b7aec5bb71bfbe62aaa909cf8941e164d099cf0d6f2db842dcff436b612f9662256a429a18c05f9a5d65133f94efab8563b8c7dc228cfa0a166811ad5d1d426f99dd5b80a77b0cd13e849c823367237732a569345bcf5dcc0f4128e91175278cb99d128e835451fe0fe7d2d8a383dde76c40dbaa35b78b48c649751f719341ad07525d22e0dbf8ed5c851a8a72b909048cd82fc9114c76fc4f6ace2a9d906515de118f192ffeef70381f064c6eddab48615ca027fef317dfd0fff8e227c016ad6110082d452af054919ac975f51e210587fe4a51f9c970f9c8a09724dbe6542bbac2d227c88aef5bafc1764ec62a9f0bbc5843f5c1051a314b4fbeac2208a8b25ae2b798580a3e214f5ee13fd452b515848c8599aa0948b3d3f2ee6c4f4ac68a1f813fd0a15c45acc3e4faa39b395f12d060d166e48bb506e8f1d25a2f182fc648d610fc75f80be66494e3bbb95bd8e19dbf9796da26cc82824bce379b21d02d2eb0e9b8a822604b562f8a5d6f09a33a3e2ac505afa5e339407c665bb361d46214ad31b4fcccd23bb806daf1c03773e14b68811144ef435207620a358eea9e5bf2b093939abb32e6507c487d7eee15e4573e472de08a30e92fcd6011a088e30bfa5d52d22431ed991759d6322924abc3c1358c536250af394b9c35667dff1ca39b68f8a5d596945c9dd9d23a4b2d0f47aa587f3f1554e3549d113e856d2651b7d0f8e5224fd7c01753f4783e0a31729bd5da9cb5aee5797e8e315a3be1cbdcaa0eeff5722d7b5c3972b3d6638ba08e008adee34548d1e8f022e488af220995064a8d35df8ec68547535a50d66fc851c30d1ed0ea0b06089bf92c12d72923af2e9adc4dd06a384b4515c7767b55d0790176f13db92e725270a48499fb0d0f1920abdd1ec616f2738612299b2041efe613368890ac05c2831f21baa5cd871378498f92b9567436383baaaef49ebf040c0668c64696755481fa45ae358369e7b33563f4da4b6b19dfbd7fcccd29b5b7a4efcc4294084fd265ae1fe8d83bbbb61dc99433744b85b6f6aaaca8690bf026520b3cb051715e7d3f6142c1dffa04b0218e1b81a4e78df460df345090a22b04ee5d6cdf1640578fa08b636b60c112dca1f1f03d49f694408d7d7d45a34e0a359579550c2ef385419f1983b808ee11a8d9ea8a5adc7732e4094662a8a6240e235982f37c0a09ec0d9fb215db14630e9d963dbb6cffd2c38f81882c5f5caefc9c4df2ea71fbd45b47dc26104dbf8b188d69d5af789bbd5cb6ac89f05b7de2bff244a69caf8d764a3579c52f522508e66d32e4575b5a61a391e4aea07d7c01bfacb75185f07af186d92e5680ce56f8e54add1c5405e2292cb0061fd1cf9f63270e6bcfa6b7738751bb128beb458179077edf78107fd3a0df624ca44eda0628262bd6ddefcba4005986d69aa2d0d6d613c5592ae53da1a21b816b7f04c855d6438d6b03c3846db4767ea37ee723872409bcc66ba3d00b549b603ffd371d3302738aea1d0ad0d5e9b9a82cfeb4841ae8e28556774b0b5a2e84966a6ae7ef02eb820d50bc75edab39360b628e956bd915945c427755a63cf943408a5472dd1a609af1dcb2aeed9bc27b255496f0ac41bdfa7ce8fde123b326baa7829f277d3fd8acab688d7a516382d84c490da8be6e7e95e5e18b41db5013cb38c330671678b5fa9c86ffe4e0c06874c8446a6335639e44d7d36cb61daa42d754e64d72799d20a90f5ebfde8fc9d4e7da011629b2df2e5033814738e97cc0a786c5114e3f92e05bc298aa9310afb0e3402d52196422425f80e5fb958b730f4f43d06d77b5c270481152dff1afcf69126d8709c7d1ce22bc3c4193cfa34fb64609372a299cc0ab6931c30bc7d037939d68ed403d42d947d00389d35a285bb603992792c2f4bcd8246529e282a299d1d19964434aaeb312c6efa411aa9ed0ee72b802bc2df36279fa7ea928123590759836f0344620efdbe9c2c1fbf33c5aefdf9ae3c86872bcb6616c9ba7005e932c9987bfc06e89e797db19d20ee23dc16a7d445eed6098d479710a1a2ff3c402576f00cd0d28c5b7dbff32d5145643c881109349f3dce0352b3057f17bb53e5f7734bd28913bc176b32faf2a4a46685ffffaa8f8b924f5d5e2518853cb42165d84beff53823584bd14e11c3ceeb105c487e572bd909b90b9ffe98d37bf13c9a8ee87c60ded10eb04a7c4fd599bb0d50787d2c34bcf3f7790992788a3c9298d323a8c6028f8628af0d3a248140e088c1e52938acd14b151bd345d5305b02a3c7f95ff7b374467bdbb1a4917fcb10d323182f6b499a2d645017fafc91986c56d4a66c5cd14254f3887527fc86c1566002f2393cf0999122c12bde1eb9e04dfed0867ae7f202bb771ec8afaba1b14c7d7b09509b1e307175f57874fb38388a8994f62013ef47abed194d5c3188d9909cf12ecdf899d1efade16a080c1084dd99f993f7a74be022d22f6e10afd55d77a79ade84760a540de5555a2d6a39ceee215fd544df30cc7cb7a02a72c5e068b1c35c16f93f9f9e5252f02ae7faecdf2aaa422fd79125118b7cd05dee205957705fa45aef66c21e015173fe906a476b5e42b1a165ccf4fe4b51a12208e8301330806071fec641b282b0004b555ccbba685442573b2001eab6384f2e4d1a288d1df4dd7556d0c272379f7c5f716160906927082f583eb92ae75ed6433198f076551b80adc770c0542d8ef8545a2621cb54be0f604555741cebe9cd4f71269d74f415ff0ca51523c416a6fc777aca44088b1a2d0b6b44a6b7b03c5f453b8c5d543924bd3c9451ab0014999fe02044e46d14810331b31295f9bd425629d787de879f28b7d41a59d5720ff340fff0ad69119606c4323a2df0397a709a199a2a3139e92f7f6b67667a9f0a29cfd25676732bf6fef318d63f32de8a94915063833e203485da29c763e9c79166869c22e34231398837a1053d9d3931295e366cf5c89453c9fa87e7194310585cc21a07bdf70674dd873185fad672cdf4554fe3b89bbc59d48e244dc368cf147495ca62ac2224ac8c06d8186941a9000c9ad15b8a32188a0b2d24cd4ceb9ce8792099db71ba90d3af5bf5e19224bce913a13cfea4876ddffb0d5764bdc0a64cfba7ef3becd7233803c7930935f48218c7c0e888144d557047ddd89dd8287e089aff8bd4e7b44fd6e0042b2825b1288397550895ff426d32efc0f06f972b896134f24932ac15eedd741e5a82b054b74b9cc172908f3b47746c623abf16ce900d9c9f5c5fd8a2e62fbbe9ddd2dd2c537ed25f28af3f2280b91202108d2899e7c3737cda59bc8a841856fff2819c41f79124ed8a7cfc01dfbe94c3dbc87c66fb96d9cb8401bb557d94cb259d920bfcb1655cbe937956467c976627acc1b588668a8155e0b38b466c6d3108f48e9ab8a1dbe2940dae49e07960a8797df39357c80d31448a8fa89062adb5d8bd4737e5af04d4ebc2d1294394fdb9155f5e79e3e24659f496c9541aecaf01f96a1bce1c37065739c622a27ebd9b2ebf297ff5ce331799c009dfd81dfa3f12c80b1727299abe096fd9e6f8e610d9cecd88b342c21781f1ae9aff6a586aefaba176a7f39302ef6fe084ee7cd1f415280a0f8f717b54d6c46937b98ab9b64f722a9f635f5d65f614007c96335f5f8a0970eef39e103aaf2e40787797828307f564cd3e4df6eb51a41256099d90ec264cf3c42e26c2673e0d557e4ff606e6f3c583126248f55024061d9d0dc7a3287eaf24feaca415e936b9cbb8f25db70715dbf8de7ce23eaa0465ac6e9d524280397712c1ebc2c7f01e770313806cc810bf909dcae5309788b424dcbf971887a68a614a1db2b3a4452c41e263df3d39d8ed82259b3715a3d734fda84b0f566417ba3ceb70e03fae5b0a58f07f0560b6eea6b54525eec649bad66b28c960ba91e99882ac9c3bbe9e173e0d3bd7e5b1a95e47cb3a51b2867edc376f6ffdb50e6d9d791322c7d69a7b21898be3b642b29ef57faf158d1f719465c3e4a53809982d601d5f400b9363e3e8b8209cec8d78ac4e572e5270e5565a9b7628e61e946351254e237abf58d4a57cdb65d3e611947527daf0ecb54fe8e7b46eb7ef6b5acfcda5b27f0b772b33da360c491a4fd4767727713d24b12cb456030aa0dc589ab767261184b694a13667794bfc6f1bc1771e3441402e923b55fc2af3fa408bf073df94020b40e4489b23de2a05ff603f55c245d83bd9702c11856fc7714a223df9ed2aab5aa186399fc70610af00edf8b0c5d052c1b4f2b8c4cc653c07905bbcebbb2938cc998845a123d359dfd155beb723c7c3af321762b8d55ce3e9cb829d0f5199ea3b8e5e97b5ccec464239fcf98348838e9a8d0d1ac0221c7529b710f3f1fb76a5dbd372d0d469d7ef740fc72abbd057907806536880636ec43acec714446f1e3da7330f969823c63eef1a75316084110e49027a54c3b0e3658dbd652bb21324d37ca84df6a268e3a2aebf3b22ab73ffa6afe6ebe95b3409b98bdaab88b28a1dc84279443faaa92930d59bc89d3722a1f5320c27fdd896dbce2367ff218bdad606583a55f29dc5d9ab1c66ad785c0dcd07abfc40a4d45c8234bab417f917dbf425ccaa60670c4fba5f711fb0fca33384760382400c17f89b87ab66935ec580bd16f5772543359aa59e755b56640d3be545bd5e5da9bf3b71fcd9e4951a6d6c6529e0cb08429ef33e8450292a9cf38f07d6357bcc1dd6d13f9501a543b3914fbbaaabce94d212992478d521da7d28c10ddc089d86f5fbfa82fa97b0d83c362af98b7ff5d758379e589d1c34130b6190d68e1661145fe1185685d09f9f93c583000378903dc62706bbc36aa14fc71124b92445916350164ad9fd141e9ae9153d9cf921671f5cb0783acc22e9047be6b6c9e13c89d73d35dbda18819b62cc0bbd1ef3f016675727b8e4039c5da5224712b558f229085febb7a87bec322f5c0824075d9264ff3dffc3eb9d9319c75c87cb1f4bfd3ed83ebcec9838facc1433932d47b64ab54ea69aed9fba1fa995b3f743ed7b0eb805965939519ecf9a925a444e05b5192cc319064be266473e6e03770be0c2b4f987cc6b1ab3dc36fa0371d22459cfa4481fef79a23a57380e5df7cefb590e438779c902f3fdfe8ae3bb2300c34c8ca593b2bc1089ac5f06a8d059a1a3b3578e3ee952cff8a196d65aae6a579053f8c4c4faaaf04c3fab204affba91937891b536e8ecb576dfb05c449bb065c11b781558c9e1b220ce810b8f2757c38a31f6b4f04b356310febbc8b10626219d8df85d6607a5476a6e6d774c287c1f203ffc5e64cd55a43fe49ccbeca05bdf104914ebc7efc98dc807ebe3e0a0d6a2cc2b1d58ec2b66cf8635eaaf734ce24b3ce2870ada647c46f6d5b75f5d3474e57c569bc47f5383b9150dea753575189fdfea086f0e3de21596183d79939deb254b3737e6fb479631c656d870795aa566b49ab6cce54b21114f8a72e7a2eb57db54e034cce2e977a0362af0e99077f9aa48eec09a5b8cb2997a535a8ccf7782eba4457efd54af81149c57f320f4453fceaf4ee65bb488251bb29f9dae0fe0a08be945821a5df35351a357b62adb856227e86c774ec0796b501a9ebf8f347c881c2c8cdd8a9bccc3da70442efd0c839371f2c50fe89145c74af911a6c556538e7a083fdf7e031d0311588cc1cf9ba43691c98b7d446cef0042839a920331056077220ab81cdb058d8a3c16587635444f3207f545fb7e69213f97a5171e857546c6d42ecffc9cda3b633b90fc1adae11fc9f4a9760d18607d9e9e12bc2928e3dbb0a8046646b239b422921d12a1582304aea4a141243771ddbb4a8299c8ded63618c33be816d5aebeb564e27c40f243f190adae7f718d90ef85b058912c2477a7d461fce087ff90b404acb345ed4fd843d38f06a309a69c6ea1bb58911e0299747271175820c0c626330e6637a602a783b3a0747d67537c2c7258214f79344d2a8e9519484c2a2391120e27e3f8dc45048629b0ba334a3420c7ed25688c37b276098d957b27fe1cee86fb6bdf32c4c94cf38449ed4d93667440593067c46feae117733e4816d4a5a5e7509e127d00cc51cfc98f6265ff5ff84a63140a3f86ac347c989057d39724b589f4a9e1c48a5370a4dd75520d7be60033dba2f4c6d025b95f154bd3a8fe4a031c5a8e24aa7aefdfc93cefc0bda42e6f36058f4c2ec15d1157d2d285ec9f283e0d74c6eb22bb36b1b49e1c1cd9b7d0bb204684e81a9904b82169ec3fa1880bdc7f4a9a27bd87d68ef6644b10a11f00bcd93ce2a94896b113f80fe746a8217ad1d2b72614acf95994ef8ddeedfb9f1b16d1022061c41e1be37eed724bc8c8f9b8504aef8105106c3ac141656840689e89a921da3e6faebdd37d3f0bbb43b02fd5f93a0e3826616306354aed552077191c85a3521eb68ecffdc871bcdcaeadbd940db6db9d7e1e5c3799de4fdf459a5c4dffc4d66fe6567a1a39d7f049fb39bc167d12b350a85dfda0cfc91baecb62b00d65141567e757250d963292e5161abfc7d23d814a7a6023ae92ae3f90f3e00014c98b3025f4a176115c9f8d3ee80376fb465341f1f18c2c5546bf0607d4257a18ad9d9a09e118b02a584c8952c474500b72b8a920918d289149ce87ed55637d73f408748534321c51a921ac830bb1f1e560b614edc7e2444d31873ca1077efde11a1e93e4e7a58f0b8036029159c44f2860024635d429c001237b7f9ac66e4e6c007053c6061cfa3a839b940e63d1bf7d008d5bd289d364c139ce3f1efb05449c9cc83b8b243e6ae9e15612d0535a21b863617022741c848c8931c5c2223521151fddea11fff0e9547a76f818a5903f6c2d58ec1854f0cf8625995c3c616c26d06b90508401341d2930f778872ec5cc887409f030f744d5f0645d0a7798095de088a57e40b1b62b00e5bcbe3861fc94e4e98b14ca255d0fd941b5caf713f883007f15b470b96d168db90b29792d50cb49f36fc4a97332d34d009ba5dedeb02ba913a065ff1e9bb1fe072c84fd6c58f45100135c8b59da1186921bb7f2768325231ca1f2cf811de475351884272f78636f4cfad913f344227fc7634980403507e0af3affca98f698de7f7e577a7551ea1a4fe69945bc9046ba715bd7e590f9a474e76d12f2eca7f69860041516b161b164d0c281077981aee897987a0efdcb4542ba8c776e64cc9f93d6dc2fe26d39e1b7782533147338819d686d3e48ee225d2a59ccd20ddce4cd44e2cdd21797209f6b5369dd3c706f61aba894e4830ac2ec0c86c6cc06fb6a10072ee8ee305cc79c0adf05c5659dab3a89dd42f15c17baa98de2698daaabb617fe8723d9657aea4a8f676b413625289f21356c76ea16ea0d9154fe53cb65eddd60790fdc0dd8e21d24de56797a63889c1394eb5ef5b7f382f9ee04f662f236e9c1c47f9f344fe7959f7c2c600ef1fd5eb3531e967d245de9625e2be13decc802b04bcac8804fe2f4a0895af9ef55328f7f067ccad228a39e7fe2e7e9109ee4c0b6543d75330ed54805896cab7eb6729c9fd1f92c52d7dd3130aa5bd4d9b8f32aa93c5e5e5542805352cda80b2656b4d7bb1ede197a2413bc9607714d8138b41603c9153e8d91b98ebc5d8ff923ac58e38f2b269bd06cfadf698913ac503e917532cf25b60eecb545de4a0e23e656305f81b825b295d948b67b3157c61ee464c1726ef8f5c1960bbe647dca58fdc10b8787871d86c710a0474579d2c85554327db770ec5971a096ad9894b2cd6b70ba425975380fa57e9dfd621f17c1ac6858250cdd72ff11e9f742b7f3cd6fb353c3f6a61a79cb98af775ddd856a9efa0b91060bfa21228322e6caaa53a23d319cae0273c649e0e9b0102fa0002f5352c65d2cf2bc237c44ce0d1bb824489f8b9653bc9db594cdc7b098f9000e544348b28a1f7984822886a205a420b4b87e4103dcb3f521c66fcd8021caa165c7b7edce20241685215b1a82eb896330e8ab97a4954716d6512ebe15cd2d22862f09a8f2c5029670289ffdab33850c00c25f6bd88ff0f0e8a11eb9e4d30738cfedc1dc4f02de0100ea6a4bdea47a6ff358616254fbba8de08c0d8f908beaf39c0ecda0560d1b677fda7b34cb81ab7bc427277aae0fa135d09081dd9f219c8054c9a8cf4f5c84f178feacca8aafbf7a728667918a61e1450a8ac9337e54eaffd36b80655aabfc0ef28a9120f534fd5cc858f9fcc4d62a8ea4cf13f52549c536fd077427e03a28ce415beb963348835d56d878109b4d05fbbae423727c0a7dfb8dcaaccc0f7b0f5cb4cd07536607ebe27766a51d4a399a0f1ad380bb03cc3b7990a4452e2e0c2ac5f37e078bf43b29bfe1c1f4e5dd956d6e834cd171f0b71e74169af00246efaaaa83118618544707b9255fb05f24e56908819ab9b68fbef5a3798da70d607ae037a30036de7804c25ace5839baaf7b3ab6d9c6aea0316e2b74f4025ff8f63d57a4f38b2c9aea9d322fd82207cc4d7466d836667c37eeecb34ee0b367dd566eba39fb8d7046ca9cd7ba496538a04b7e9611be6b72f42ad3fce9a0b3db5c02277e1d061ceb9f94ceb0980e95963af65b5369324054c43008476bd0d7d62f7b28597cf348fe335c151d5b3adfcbc5085a7b3a90a83233ac31393b454bb44a0e629e2552241d36493b6d45d181a2d6c6f6f9e92558f70ad5ab77c498b232a1c6d6aab79af45e4b6c97b4d41169a91190b4752339755af615ab8933e05fbaa95092059239cac26ca69572428bb3767da7fa52694c8f769723f8744a45d1497bc3375d4c1aa4242092cbb8e719c1c86e0e86385df39657bf37e3d081de0fac94e78f7c90aa52bf8ed9b91ee1273ba7c069bcf295120ca61243e426a5db483af668ecce432c35f0eb99b20550b0ee64cb3cfab13d8d8fcd937a87c10fa8fd30ec5c227315d4dcc827456c84b87918db659d5d4a8b46b5af9aa316666916655f65bde0f3c5db048f9849c5fa908f5e73df60dafd208f68706115a7af7562a83c9c233250cfd6721d3700e818b955ff1cde9ca158781b8a2be2b60666b15a68a30ceb7322966d0d9a0234bfac4caae7be7c44f56705038af243bf45eb88c1f50eb7fb4d5063fb2a4c67298bdb09c7089c16157b1d65ed84aef73fcbb9ff65a9b2f306c0316aaa486178c758802806df9023ddb55e4c97cb2ab9efdf18e51539a8059bed5c70e791e159b8dffd22c646b15eb589b07ba97f22dfc255cf33ed1387f9b98aaa584da396374422f4ea8ec0a436ab8cb5fbd027de552cc2b450454a1ee7fce1d9750d00a0d3c4b5900ed3a8d6a17ac4b4b8400052ba8f31353467b4533fe53b17184a2b9535f5139b3e0285562cffeb1eea0fb38a3b887e7528be9eda4278e43b4862c902a55319506d80d2f3320412f70fedce7ceebd916cbda1e3e3a78df3476797e36784803c5422beaf7842b4c9533162223268489b38b1b5c9c2a6d87993981eaee5eeb1f0bd32fc76c99cef57f89f52a14b9c5b10272d62ea20887c930917eeb86ca6d34535a39caf038cc45d9bfa9a92ae6845698a707d7606b100191f25c372809a519d62316d8960c0c7adbc364d78de371a08debac7145c0fe05f469c72bdc8b1b1de718208606677f09428c9dd65ea9c03188bce7c796bc26c9283b85fabfd0eb13f75c236203c89f0cc09672d89991213e1ee83ce21132806859cc23cfe5517139f215762ff8152db87f29375f03998ad13cb719fdac702179379ceca0bb1d1c1805b869178467d5e8e4cdefb20085461df2424e8f9b5ee14b6895af40900d7143c69955d86585f94460e3a9bca28f511a7e99dfb2f2a4db4df3954538980d1c5402a87f168332fda31185d2936366fc5ce2ec87ba4cdf7f44ae7766ba2edbea1338f233893a54e95f9053cae85ba12720b96f16a54dea0291f6fd41f5e51aa68c6419a11a2f9ae9c2aec5af771ef963d01fbb540380ce88c894eafcdbed1483a2c7a1e0067021d71d0600ad540d507579fa43ec8ef6c02a25f9ec4f102271aacf7f7b189a25499e8b14cddca4e94a3a3e9bee0ea441cadf48ed9533641bc59806d5263ac90a7ae3d4dc47e32f2eb92709605b1b07c3044b26b223a84bcae80d20ded78db4b4d0cf63f03bb47bb56f8c1bbd10e31638f972cf315a4b0622c4d9ac796b7e8e6ed47c485ad237ecaffd6fad413ec0d9f38bad20475f57d677011db38acf7953ad0139572a4c5d36d22de3777c10d8783b876cb221697608842f33a355025e2cf62df1267662220ff60a9bd8641c428ca07bd9c3361bbc5c8bc400d161a84cac7af0b8b4d65f7315e91b431fee7cbd96388697b5f0cd898b8f638cbdcc1d9e4ac33ed08921daa2c391bc98c7b7e54a9a1fcc0f746512196cc7fdbb3d91c6d934cac7c19265ba247a77ea070ea41dffc1d21e4fa4f3214ff8d7886a151a9c779c4e42434d0fbc9c35653ad1ea1219e4338fd8f65cdea023fc18c22c5e71cd4e1bdd543b2d2756bb7ee38b5f6c2358ed357b519939a2014032e686f4c29c5be317c6a4aca533fe5a9febf57f3b0e04e12b08758ffe667ebcefacd6feba27262e6dc8eab64dec18ac59121efa4a16817c6c5d7f1c8959a6dfcc7451aef43338b2b5eb157151ca0802a7291dc1ec865999fa06e29bfeece60e27b3e531af1d8c5cec5c09ac12b829a7f42a559cf9bbf154ce52c0b935ec4d2572934070eb3b65e84ce3c875d97451faaa8243196e862c029e74f517d00d836644b26f21e3bc30565cecee0f5fea299b649dfbf4075951a18352b7fcce04ea67b6097627bf728a404c6cb8845920fa18bb460bf449c7b6d6e2455482fcd21b8eb7f9061b0b74b8bc2f76f4946592213e49e757a9b64550f626a7813efa88e778b592be445e2d29b21d1d42a609808ea21a9a5bf2fd83718f87317ebd0038a40f54fe1655db33348369712b029d99bc3799f5a4851cd94fd465ec881bdf8e75c6702922358c7b5c824bdeb96329e884863bcbacf6686d73f6d05a4a750b1b6daed15cd65b2b9738c6e46668eed6e963a1d461fd736b751ccd9c2ed442ec3d2ad3d40f8c4da16484357d26498b698766213c04cf3db49c0998bd163bb54eb933d7f396466da2f5522e1dae3ea9ac7dbf20e761085fc1b270b96c86fd76dacae1bb32ba3ea35e4b7c15fe6b9bf03e986750f9adb88e62a90bd5592d2bf32ceb83e2eb105425d941f684f761cd789aa4bdc7b2ddb3abf0a57526e0c9331a4d987be6e50201037eb97a8d70738b467d969ade00aa1f3701053593ab94330b42b89ff64ee1d1ba8d902048b33cfe53bda71e0083c55b833c22d40cdeae2750f8f739373f6be06c417190d329510bdc79da1172474eb7c7ca29240062114db59226f98dc155550cb6f9103343e6fe33a42a784d842d682541e9b4ab0300efee9f4f555e67b2f018676eb9b952e7d88f6d909ada13dda5f898b6c4ffd1b2b2970a2302bc51dc7094923c8aa2d9f742ec9b5877eafaac9dc6c94ba119e18f95db9ccf57e78b78d8f52bbb5388e9fee93768d645aaf024c01e17e34749121358ce4c0820c1b4268662300c5b5bf976bb088279c7432e3624e1aef9278ab5bf427f775dfea39e4631eaa7f2597cea58529a9756344f52cb5cf5639067ef002511d56727753d3a47431f6e19300b03807098d7cadb40512a2567fb1640caf96811c565a15f6e86197ac60769387878f795ef7db4282c9e541ad4cbe8631ea7c9eb1af2365a6282344abb4da1cfe3804aeb712e31d338cd830e1bcec0c77979d6c6275d8803a927235b6a698fb63df9c8ad9cc05a23bb749664c06d0b0587d378e2ebb394cdf3d32526e3546c18901c58351dfef1b4c0f20c5c2eca069433bf5141f41ca88229dda31c9dc10412d7ad2fc9c6aa346dc83cba59bba035e4454c2e42cc68fc98c60df13cac1a66e3a08a9af0c62eafaeeea358b5ec0d8ff7e7f79fab4cadea7996836cc2386f3e3f4cb5431dcae868436b9eb9418fce727c682638734eb301292b23372acd3148e974fdfd8fcf0c740ad0d9f1b19d9737e1976aca6283a46b9b6a3b1325124425ff7cf82b58d9be6dd5816429bb060ffa5131647f279664ee7e6b5854a0bc9fa215999adbfe24983c3624aeb20b9ac2b58e16030f5e16b7ecea3f9b09d159c3d2821e541e24871838760732002d8278e87ae02240203cf3e38cb78b80241b03aea618f2159f9a3ed71e7fa810e93dfe9a14d7f7d5556f66ee068f963f20b60de8b2025c8af59355570229191f30d90d3de79f7b90fc4444f40caf80620f61b433a2c871d36d8b294d7c8cac2a787bd1541d5ef6ff3e978aa2462467582210700700c6999a7bac23be48c9095ed09eeff44ea22af01a9a6885ed8a59b5713ff22bdab543b461851928567a479435d294cc5bfc93f25003b2d01c04406d84535a2d1bd9091d1fda5d7c2067039208d6f701f26fd2c71c9e6c166","isRememberEnabled":true,"rememberDurationInDays":7,"staticryptSaltUniqueVariableName":"e108eb465047f7873ebe9172fe8af503"};

        const templateConfig = {
            rememberExpirationKey: "staticrypt_expiration",
            rememberPassphraseKey: "staticrypt_passphrase",
            replaceHtmlCallback: null,
            clearLocalStorageCallback: null,
        };

        const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

        window.onload = async function () {
            const { isSuccessful } = await staticrypt.handleDecryptOnLoad();
            if (!isSuccessful) {
                document.getElementById("staticrypt_loading").classList.add("hidden");
                document.getElementById("staticrypt_content").classList.remove("hidden");
                document.getElementById("staticrypt-password").focus();
                if (isRememberEnabled) {
                    document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                }
            }
        };

        // Toggle password visibility
        const toggleBtn = document.querySelector(".toggle-password");
        const eyeClosed = toggleBtn.querySelector(".eye-closed");
        const eyeOpen = toggleBtn.querySelector(".eye-open");

        toggleBtn.addEventListener("click", function () {
            const input = document.getElementById("staticrypt-password");
            if (input.type === "password") {
                input.type = "text";
                eyeClosed.classList.add("hidden");
                eyeOpen.classList.remove("hidden");
            } else {
                input.type = "password";
                eyeClosed.classList.remove("hidden");
                eyeOpen.classList.add("hidden");
            }
        });

        // Handle form submission
        document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
            e.preventDefault();
            const password = document.getElementById("staticrypt-password").value,
                isRememberChecked = document.getElementById("staticrypt-remember").checked;
            const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);
            if (!isSuccessful) {
                alert(templateError);
            }
        });
    </script>
</body>
</html>
